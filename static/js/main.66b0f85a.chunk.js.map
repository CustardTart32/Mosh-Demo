{"version":3,"sources":["components/gamification/silver-medal.png","components/gamification/gold-medal.png","components/gamification/bronze-medal.png","containers/heart.svg","containers/sync.svg","containers/track.svg","containers/spotify.svg","containers/youtube.svg","config/fire.jsx","components/avatar.jsx","components/profileComponents/avatarModal.jsx","components/profileComponents/settingsModal.jsx","components/progressBar.jsx","components/profileComponents/achievementsModal.jsx","components/profileComponents/userProfileModal.jsx","components/navBar.jsx","components/discoverComponents/discoverBar.jsx","components/Youtube/YoutubeFunctions.js","components/homescreenBar.jsx","components/drawers.jsx","components/discoverComponents/profileModal.jsx","components/discoverComponents/discoverCards/personCard.jsx","components/discoverComponents/discoverPeople.jsx","components/discoverComponents/discoverCards/musicCard.jsx","components/discoverComponents/discoverShared.jsx","components/discoverComponents/discoverMusic.jsx","components/discoverComponents/yourConnections.jsx","containers/Discover.jsx","components/feedComponents/commentsModal.jsx","components/feedComponents/postCard.jsx","components/feedComponents/newsFeed.jsx","components/feedComponents/artistFeed.jsx","components/feedComponents/postForm.jsx","components/feedComponents/defaultFeed.jsx","containers/Homescreen.jsx","components/Youtube/YoutubeDiscoverMusic.js","containers/SignInModal.jsx","containers/SignUpModal.jsx","containers/navBarLand.jsx","containers/Landing.jsx","containers/Connect.jsx","containers/Share.jsx","mainApp.jsx","serviceWorker.js","index.js","containers/landing_back.png","components/gamification/empty-medal.png"],"names":["module","exports","fire","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","uiConfig","signInFlow","signInOptions","FacebookAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","authResult","db","firestore","collection","doc","user","uid","get","then","exists","console","log","set","connections","displayName","favAlbum","favArtist","interests","photoURL","posts","merge","catch","err","message","useStyles","makeStyles","theme","root","display","margin","spacing","justifyContent","large","width","height","ImageAvatar","props","classes","className","Avatar","alt","title","src","img","modal","alignItems","paper","backgroundColor","border","boxShadow","shadows","padding","outline","flexDirection","createMuiTheme","palette","type","AvatarModal","React","useState","url","setUrl","Modal","open","onClose","handleClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","style","textAlign","ThemeProvider","color","onSubmit","e","preventDefault","auth","currentUser","updateProfile","update","alert","TextField","helperText","required","value","onChange","target","Button","variant","button","SettingsModal","urlOpen","setUrlOpen","endIcon","onClick","marginTop","ProgressBar","LinearProgress","progress","achievements","AchievementsModal","checked","marginLeft","crossed","renderCompleted","id","numAchieved","Object","keys","forEach","key","renderMotivation","UserProfileModal","setOpen","userData","setUserData","achievementsOpen","setAchievementsOpen","setAchievements","useEffect","unsub","onSnapshot","data","completed","length","docRef","where","snapshot","empty","IconButton","marginBottom","EmptyMedal","BronzeMedal","SilverMedal","GoldMedal","renderMedal","numKeys","Math","ceil","getProgress","output","interest","formatInterests","handleOpen","iconButton","paddingLeft","paddingRight","NavBar","handleSignOut","a","gapi","setToken","signOut","AppBar","position","appBar","background","Toolbar","aria-label","edge","handleDrawerToggle","menuButton","Typography","flexGrow","to","token","textDecoration","DiscPri","icon","button_text","toLowerCase","this","ListItem","event","handleSelection","selected","selectedTag","ListItemIcon","ListItemText","primary","primaryTags","map","renderButton","List","component","ListSubheader","paddingBottom","Divider","renderButtons","Component","DiscSec","Box","API_KEY","CLIENT_ID","AUTH_SCOPES","DISCOVERY_DOCS","handleIsSignedIn","isSignedIn","undefined","window","client","init","clientId","discoveryDocs","scope","join","auth2","getAuthInstance","signIn","profile","getBasicProfile","name","getName","imageURL","getImageUrl","email","getEmail","authResponse","getAuthResponse","credential","GoogleAuthProvider","id_token","access_token","signInWithCredential","r1","getYoutubeData","YoutubeType","videoOptions","part","maxResults","myRating","likedQuery","k","encodeURIComponent","likedURL","fetch","response","json","responseData","items","videoId","filter","snippet","categoryId","videoTitles","item","push","split","r3","tags","relatedOptions","relatedToVideoId","topicId","q","relatedQuery","relatedURL","recommendedTitles","uniqueOutput","b","indexOf","recommendedTitlesId","spotifyApi","Spotify","HomePri","getTopArtists","callAsync","callAsync2","YoutubeData","state","getMyTopArtists","obj","list","rerenderCallback","error","youtubelist","finished","setAccessToken","replace","artists","MobileDrawer","renderBars","location","pathname","startsWith","Hidden","smUp","implementation","Drawer","container","anchor","drawerPaper","ModalProps","keepMounted","toolbar","DesktopDrawer","xsDown","ProfileModal","connected","userRef","targetRef","FieldValue","arrayRemove","handleDisconnect","arrayUnion","handleConnect","textTheme","responsiveFontSizes","details","content","flex","cover","minWidth","maxWidth","PersonCard","Card","CardMedia","image","CardContent","likes","paddingTop","playIcon","DiscoverPeople","users","setUsers","cardStyles","snapShot","userList","includes","controls","MusicCard","share","setShare","whiteSpace","overflow","textOverflow","artist","album","Dialog","aria-labelledby","aria-describedby","link","frameBorder","allowtransparency","allowFullScreen","sandbox","DialogTitle","DialogContent","spotifyId","targetId","add","reciever","sender","spotifyID","DialogActions","autoFocus","discoverShared","currToken","songIds","getTracks","unSubConnections","unSubSongs","setState","songList","tracks","prevState","albumArt","images","albumName","songArtists","songName","external_urls","spotify","Grid","renderCards","discoverMusic","getRecom","result","callInstance","limit","getRecommendations","seed_artists","functionWithPromise","Promise","resolve","anAsyncFunction","channelTitle","album_backup","album_backup_backup","thumbnails","default","pop","getData","all","YourConnections","connectionData","Discover","mobileOpen","CssBaseline","drawer","path","withStyles","breakpoints","up","flexShrink","zIndex","marginRight","mixins","withTheme","CommentsModal","comment","setComment","comments","setComments","commentsList","promises","commentData","promise","i","author","postId","label","multiline","PostCard","tag","flexWrap","count","handleLike","NewsFeed","setPosts","newPosts","post","likedBy","postid","msg","ArtistFeed","trim","textField","PostForm","newContent","setContent","setTag","newPost","placeholder","fullWidth","InputLabelProps","shrink","DefaultFeed","Homescreen","concat","bind","rerendering","fb","App","gapiReady","loading","script","document","createElement","onload","load","setApiKey","body","appendChild","loadYoutubeApi","SignInModal","setEmail","password","setPassword","showLogin","setShowLogin","handleSubmit","signInWithEmailAndPassword","u","inOpen","handleInClose","DialogContentText","autoComplete","lang","data-provider-id","data-upgraded","uiCallback","ui","disableAutoSignIn","firebaseAuth","SignUpModal","setName","createUserWithEmailAndPassword","upOpen","handleUpClose","setInOpen","setUpOpen","opacity","textTransform","styles","backgroundImage","Image","backgroundSize","backgroundAttachment","backgroundRepeat","backgroundPosition","divContainer","fontFamily","block","borderRadius","left","top","blockText","blockRow","Landing","Heart","Track","Sync","buttons","Connect","handleGoogleLogin","renderGoogleBackgroundLogin","getHashParams","loggedIn","hashParams","r","hash","substring","exec","decodeURIComponent","href","SpotifyIcon","YoutubeIcon","Share","searchQuery","getSearch","unSub","search","FormControl","InputLabel","htmlFor","Input","startAdornment","InputAdornment","authListener","onAuthStateChanged","localStorage","setItem","removeItem","exact","Boolean","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.66b0f85a.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA3gAAAN4B3eqDagAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUzSURBVFiFrVdbbBRVGP7+mTmzs7vddukFI9BCwrK7Cgpe0USJGDEY9EGCEvRBQ3zwAWJijA8QicZoTIwxavBF4wPxrvHNIDFipA2JXFSIiRa7lG4LxW4rLd3L7M6c8/uwdDp7a7fVP5lkzn/9/nP+/1yImdEspVKpGBm0STnqJgA3M3idUkoS6LSCOg3CKYOMn2OxWKZZn9QMgIGBgYBpml/ruv4wEVXIXNdFwS74WQUC7Y/H4+8AUP8ZwNDQ0HZd1z/WNC1YT66UQi6fqyfq0zX96Vgsllo0gMHBwT2BQOBdx3VISunxdV2HMARCoRAYjKJdRMEuoFQqVTpg5IloRzweP7xgACMjIxuJ6DgRadlcFswMIQSWRJdACAEighCiwsZ1XWTGM7BtezYA6G+l1NpkMjlRL47WMH3gOyLSAMAKWIi2RbG0a6kXlJlx6Uoeo5MFuK4L13UBAJ0dneho7/BNAl9HGh1sFKQugAsXLryuaVp0ZhwMBhEOh2v03u+7jIO9o1BKeR8zo7W1FdFo1K+6s7+/f0fTAHRdf85T0DRYllWjU3QZJ9JZnEhnUZLl5RFCwDRNAEC0LVq5RIQDTQEYHh5ep+t6aGYcCARQ3XoAcDKdhe0o2I7CqeEciKhCj4jQ2dHpN7nx7NmzNdNoVDOYeVuFglFWuThVglKzBfvDX1Pe//f9k+huEz4bHSs7Qt5sXCPdsqxbAPTNCQDAPf4siAipcRvPfnkejRq2N3UVvamr3pgAfPhkAmu6ghBCwHGcGdEd1QBqloCIEh5kXQcArO608MYjK9Eeqoe3ktrDAm9tX401XeV9K2AG/OL11fo1AJRSGd+/x7+tO4wPdq7GxpUtDYPftSqCj55Yg9t7Ih7Pla73z8wj8wIgopN+AP6Nqi2o45WHumGJ2uaxhIaXt65Ai5gFzswoFot+tZPVdjWeNE074h/7ZwEAzlzMw3ZqzxjbUfj9chGGYUDTym5d161IgIhOzQvAtu2jzOxFqMoAvedni23rDVFsW9vujY+lprzgADA5Nek3HY3H4xfnBRCLxYpSSq9SXdf1qpgZ6Ds/jZCpYd+W5Xhh8zI8f9/12P/gCoRMDccGplAqOWBm2LaNbDY7mz3o0+pYQP02hOM4jxmGcQmADgC2bZczIw13r2rBrls7sazNvAaKsTnWikSXhc9+GYdUCqpYxFhmzO/yXCgUeqlerIan4dDQ0GtCiH1AuQ7yhTwiLRFEIrMVXu9EzOVyyIxn/GuvWPG9yWTy+IIAAEA6nf7JMIxNzIxCoQCpJIQQsCwLpjBhmiaEEJBSolgsYjo7XVMzYLyZSCRebBRjvhuRlk6njxiG8cBcSlJK5Av5anZTV7O57gMAoHp6erZIKXc5UhYbKem6XnEQZfJqlBVviMfjb88VHGhQhNXU3d39+eOH+t1H4+Krngih1QRafEvvSonRaYnBKxJ/jLs4MYYvfty74VwzvpsCAAA5Zv7kz3I7KsXQpYPlkXLWI1cZE1O2V3jBYEA2dLRYAH6yCyXkczYyVxZjvUgAmiLia8scCgdgCB1g9o5ou1CCUyofPIqaf+00DYAJFdci0yybMjOU4ootmFj9/wAa0T8T01hAvBqarw09qp4BACDmX1vC1qBh6JV86PM+yRYMoIpsYt6XTV++0x2biLdGW16tc29tihZYhAwQ+qTEM4d3J/uB5Iz4wP3vnfmt5LiHXFeGwQ2vj7V+m1VkjbJMtOfbpxKbDu9O9FfLj+5d/82y7mB7ICAOg1D3tVqP/gVVRTqamQqDaQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA3QAAAN0BcFOiBwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAQISURBVFiF7ZbNa1xVFMB/5743b96bzKRmqvkg/UhMU/sRUdt0YQU/NgXFIi6ECoUSunBj/wAXiiAiuLILXbgoilLUpf9ARfCrUAtpUmhtWmwa+kGY2KaZN3lv7r0ukpl5M30zTouIi57Nu3Puvef87rnnnDtiraVbuXR4vLecye0X7D4sk8DkXytxvwglR3FeRP3gBOrEvhPn5ru1Kd0CTE89dVCs/RwYTOpLKxFJE0owmYzz8bMnZ9/5VwDOvDW5wYui41iOpM23AtQk46g5r8d56Z+i0RHg0uHx3tANzgKPt85VjaWqLfOLGj9jCbIg0rzGURL7eXesE4TbiS50g09anZcjTSXS1LCv3VJoI4hAf59lqGjrINrYTLSiTwHb2vlQ7SZmjjz5KjBV+62N5XY5Jkw4T4q1cLMkXJhXrMYNfazN2K9vTnzQzk/qFVw4uqMQae8iiYS7XY6pmnvXTs8ptGnWBVl4YrOpR0IJpsdXm/Z+df566/7UCFRif3/SeTnSqc7bSbgKN0qNhDAWFVdlKm1tKoCI3dsEFOn6+NEBj13PFFAKhrf6vH4gAuD5p5fZvrlSX3drSZqqwxj7YtcAQB2gamzTnQ8O+/QPZcn1uAxvDdiYW6Y3r9kxUmHnaAPAWAijBAB294MB6JbQS+Jbu+P1QWsZliuJazD0dw0gYusxl7QFXUpyr0hq8bSNwJnawHFaEGziuz6uFUFrQeX8hkLgZpqj9EYk/I7lDQBXCZLwu3A1pFo1rNytMn8lJOv2cueuYuZywK1SpnEyAd9rmFSK2a4BBHvGJgIYeA7l9UpYWoxZWlzrNNfnK0zPrTn9eTrfZGMg0RHXgORUmq/UK1Ar9hdgIQngqu6zIZeFgb5G+JWg8+J80TXAru9m7hqjjiZ1Bd/tCiLnw+iQaTq966r3J06eS82Bjq/hn8f2XrqzHI8ldWGkCWNdT7haK1Zq7dQDfc2h7/WdeM/Xsx5tpONruGkwuDK3qsdWo0azDzyHwHPQxlI1li0DGt+zTQlXN66EnUOZ5U4+2r6GAI4SvW0kT/GRe607Ssi6ir5CuvNeX7FnUwbPEXPvbAKy0ySAUsLwYMCGQoZrN0LiuKM9lAgjRYehQsezdQ9Qk3yPy/bRPOHlMuWLZcKCIiwolAUnMjh3Vnms4DE0HuB25/v+AGAtGj2i6LnWeGWihQW0WYtK8YVhXBXcj8nOOfBfyEOAhwD/cwChfdfp90rszr89PDnwbb7gt39Q2vwTqknnPmDtWURebtLl1Gkmcl/y/cxnAEX4tAiHSs9t+SbT778CFJpMIH88OEBU+ZBsbgzsAeA3RH3E8dM/pi0t/nT1EIB5d/KYifV7VpuN4qqFMFavFdI2rMvfhIZ3QW8eEAMAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/heart.751a7f6d.svg\";","module.exports = __webpack_public_path__ + \"static/media/sync.1e25f806.svg\";","module.exports = __webpack_public_path__ + \"static/media/track.ab3c2deb.svg\";","module.exports = __webpack_public_path__ + \"static/media/spotify.36e17e9c.svg\";","module.exports = __webpack_public_path__ + \"static/media/youtube.ff90d29b.svg\";","import * as firebase from 'firebase/app';\nimport 'firebase/auth'\nimport 'firebase/firestore'\n\nconst config = {\n  apiKey: \"AIzaSyAeREgt3YM_FPtwhYnMWF_AijkdYwyykR0\",\n  authDomain: \"mosh-37501.firebaseapp.com\",\n  databaseURL: \"https://mosh-37501.firebaseio.com\",\n  projectId: \"mosh-37501\",\n  storageBucket: \"mosh-37501.appspot.com\",\n  messagingSenderId: \"806342003387\",\n  appId: \"1:806342003387:web:f508ba713ee85e2683f79e\",\n  measurementId: \"G-QVRJRKC8QL\"\n};\n\nconst fire = firebase.initializeApp(config);\n\nconst uiConfig ={\n  signInFlow: \"popup\",\n  signInOptions: [\n    // firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n    firebase.auth.FacebookAuthProvider.PROVIDER_ID\n  ],\n  callbacks:{ signInSuccessWithAuthResult: (authResult) => {\n    let db = fire.firestore();\n\n    db.collection(\"users\").doc(authResult.user.uid).get().then(doc => {\n      if (!doc.exists) {\n          console.log(\"Adding user data to firestore\");\n          \n          db.collection(\"users\").doc(authResult.user.uid).set({\n              connections: [],\n              displayName: authResult.user.displayName,\n              favAlbum: \"ASTROWORLD\",\n              favArtist: \"Travis Scott\",\n              interests: [\"Hip Hop\", \"Pop\"],\n              photoURL: authResult.user.photoURL,\n              posts: [],\n          }, {merge: true}).catch(err => {\n              console.log(err.message);\n          })\n      }\n  })\n\n    return false;\n  }}\n}\n\n\n\nexport {fire,uiConfig, config}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n    justifyContent: 'center',\n  },\n  large: {\n    width: theme.spacing(18),\n    height: theme.spacing(18),\n  },\n}));\n\nexport default function ImageAvatar(props) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Avatar alt={props.title} src={props.img} className={classes.large} />\n    </div>\n  );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport Button from \"@material-ui/core/Button\"\n\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport { TextField } from '@material-ui/core';\nimport {fire} from \"../../config/fire\"\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: \"#292b2a\",\n    // color: \"rgba(255, 255, 255, 0.7)\",\n    // backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    outline: 'none',\n  },\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"column\"\n  },\n}));\n\nconst theme = createMuiTheme({\n    palette: {\n      type: 'dark',\n    },\n  });\n\n//TODO: This page should be linked to a database query\nexport default function AvatarModal(props) {\n    const classes = useStyles();\n    const [url, setUrl] = React.useState(\"\");\n\n    const handleChange = (e) => {\n        setUrl(e.target.value);\n    }\n\n    const handleSubmit = (e) => {\n      e.preventDefault();\n\n      let db = fire.firestore();\n      let auth = fire.auth();\n\n      auth.currentUser.updateProfile({\n        photoURL: url\n      }).then(() => {\n        let dbUpdate = db.collection(\"users\").doc(auth.currentUser.uid).update({\n          photoURL: url\n        })\n\n        dbUpdate.then(() => {\n          setUrl(\"\");\n          props.handleClose();\n        }).catch( err => {\n          alert(err.message);\n        })\n      }).catch(err=> {\n        alert(err.message);\n      })\n    }\n\n  return (\n    <div>\n    <Modal\n        // aria-labelledby=\"transition-modal-title\"\n        // aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={props.open}\n        onClose={props.handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n            timeout: 500,\n        }}\n    >\n        <Fade in={props.open}>\n            <div className={classes.paper} style = {{textAlign : \"center\", display : \"flex\", flexDirection: \"column\"}}>\n                <ThemeProvider theme = {theme}>\n                    <h2 style = {{color: \"#fff\"}}>Profile Settings</h2>\n\n                    <form className = {classes.root} onSubmit = {handleSubmit}>\n                      <TextField helperText = \"Enter URL Here\" required value = {url} onChange = {handleChange} />\n                      \n                      <Button variant = \"contained\" color = \"primary\" type = \"submit\">\n                          Update Avatar\n                      </Button>\n                    </form>\n                </ThemeProvider>\n            </div>\n        </Fade>\n    </Modal>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport Button from \"@material-ui/core/Button\"\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport AvatarModal from \"./avatarModal\"\n\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: \"#292b2a\",\n    // color: \"rgba(255, 255, 255, 0.7)\",\n    // backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    outline: 'none',\n  },\n  button: {\n    margin: theme.spacing(1),\n  },\n}));\n\nconst theme = createMuiTheme({\n    palette: {\n      type: 'dark',\n    },\n  });\n\n//TODO: This page should be linked to a database query\nexport default function SettingsModal(props) {\n  const classes = useStyles();\n  const [urlOpen, setUrlOpen] = React.useState(false);\n\n  const handleUrlOpen = () => {\n    setUrlOpen(true);\n  }\n\n  const handleUrlClose = () => {\n    setUrlOpen(false);\n  }\n\n  return (\n    <div>\n    <Modal\n        // aria-labelledby=\"transition-modal-title\"\n        // aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={props.open}\n        onClose={props.handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n            timeout: 500,\n        }}\n    >\n        <Fade in={props.open}>\n            <div className={classes.paper} style = {{textAlign : \"center\", display : \"flex\", flexDirection: \"column\"}}>\n                <ThemeProvider theme = {theme}>\n                    <h2 style = {{color: \"#fff\"}}>Profile Settings</h2>\n                    <Button\n                        variant=\"outlined\"\n                        className={classes.button}\n                        endIcon={<ArrowForwardIcon/>}\n                    >\n                        Privacy Settings\n                    </Button>\n                    <Button\n                        variant=\"outlined\"\n                        className={classes.button}\n                        endIcon={<ArrowForwardIcon/>}\n                    >\n                        Connected Accounts\n                    </Button>\n                    <Button\n                        variant=\"outlined\"\n                        className={classes.button}\n                        endIcon={<ArrowForwardIcon/>}\n                        onClick = {handleUrlOpen}\n                    >\n                        Upload New Profile Picture\n                    </Button>\n                    <div style = {{marginTop : \"20%\"}}>\n                    </div>\n\n                    <Button\n                        variant=\"contained\"\n                        color = \"secondary\"\n                        className={classes.button}\n                        endIcon={<ArrowForwardIcon/>}\n                    >\n                        Deactivate Account\n                    </Button>\n                </ThemeProvider>\n            </div>\n        </Fade>\n    </Modal>\n    <AvatarModal open = {urlOpen} handleClose = {handleUrlClose}/>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function ProgressBar(props) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <LinearProgress variant=\"determinate\" value={props.progress} color=\"secondary\" />\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\n\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\n\nimport CheckIcon from '@material-ui/icons/Check';\nimport ClearIcon from '@material-ui/icons/Clear';\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: \"#292b2a\",\n    color: \"rgba(255, 255, 255, 0.7)\",\n    // backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    outline: 'none',\n  },\n  achievements: {\n    display: \"flex\",\n    alignItems: \"center\",\n    textAlign: \"left\",\n    justifyContent: \"space-between\",\n  }\n}));\n\nconst theme = createMuiTheme({\n    palette: {\n      type: 'dark',\n    },\n  });\n\n//TODO: This page should be linked to a database query\nexport default function AchievementsModal(props) {\n  const classes = useStyles();\n\n    let checked = <CheckIcon style = {{marginLeft : \"2%\" ,color: \"green\"}}/>\n    let crossed = <ClearIcon style = {{marginLeft : \"2%\" ,color: \"red\"}}/>\n\n    const renderCompleted = (achievements, id) => {\n        if (achievements == null) {\n            return crossed;\n        }\n\n        if (achievements[id] === false) {\n            return crossed;\n        } else {\n            return checked;\n        }\n    }\n\n    const renderMotivation = (achievements) => {\n        if (achievements == null) {\n            return \"Complete one more task to unlock a Bronze medal!!\"\n        }\n        \n        let numAchieved = 0;\n\n        Object.keys(achievements).forEach(key => {\n            if (achievements[key] === true) {\n                numAchieved += 1;\n            }\n        });\n        \n        if (numAchieved === 0) {\n            return \"Complete one more task to unlock a Bronze medal!!\"\n        } else if (numAchieved === 1) {\n            return \"Complete one more task to unclock a Silver medal!!\"\n        } else if (numAchieved === 2) {\n            return \"Complete one more task to unlock a Gold medal!!\"\n        } else {\n            return \"Congrats!! You have completed all tasks!!!\"\n        }\n    }\n\n    return (\n        <div>\n        <Modal\n            // aria-labelledby=\"transition-modal-title\"\n            // aria-describedby=\"transition-modal-description\"\n            className={classes.modal}\n            open={props.open}\n            onClose={props.handleClose}\n            closeAfterTransition\n            BackdropComponent={Backdrop}\n            BackdropProps={{\n                timeout: 500,\n            }}\n        >\n            <Fade in={props.open}>\n                <div className={classes.paper} style = {{textAlign : \"center\", display : \"flex\", flexDirection: \"column\"}}>\n                    <ThemeProvider theme = {theme}>\n                        <h2 style = {{color: \"#fff\"}}>My Achievements</h2>\n                        <div className = {classes.achievements}>\n                            <p> Make a Post </p>\n                            {renderCompleted(props.achievements, \"post\")}\n                        </div>\n                        <div className = {classes.achievements}>\n                            <p> Connect With 5 Users </p>\n                            {renderCompleted(props.achievements, \"connections\")}\n                        </div>\n                        <div className = {classes.achievements}>\n                            <p> Comment on another user's post </p>\n                            {renderCompleted(props.achievements, \"comment\")}\n                        </div>\n                        <h4> {renderMotivation(props.achievements)} </h4> \n                    </ThemeProvider>\n                </div>\n            </Fade>\n        </Modal>\n        </div>\n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport ImageAvatar from \"../avatar\"\nimport { IconButton } from '@material-ui/core';\nimport SettingsModal from \"./settingsModal\"\nimport {fire} from \"../../config/fire\"\nimport {useEffect} from \"react\";\nimport ProgressBar from '../progressBar';\n\nimport SilverMedal from \"../gamification/silver-medal.png\"\nimport GoldMedal from \"../gamification/gold-medal.png\"\nimport BronzeMedal from \"../gamification/bronze-medal.png\"\nimport EmptyMedal from \"../gamification/empty-medal.png\"\n\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport AchievementsModal from './achievementsModal';\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: \"#292b2a\",\n    color: \"rgba(255, 255, 255, 0.7)\",\n    // backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    outline: 'none',\n  },\n}));\n\n//TODO: This page should be linked to a database query\nexport default function UserProfileModal(props) {\n  const classes = useStyles();\n  var user = fire.auth().currentUser;\n  var db = fire.firestore();\n\n  const [open, setOpen] = React.useState(false);\n  const [userData, setUserData] = React.useState(null);\n  \n  const [achievementsOpen, setAchievementsOpen] = React.useState(false);\n  const [achievements, setAchievements] = React.useState(null);\n\n  const handleAchievementsOpen = () => {\n    setAchievementsOpen(true);\n    props.handleClose();\n  }\n\n  const handleAchievementsClose = () => {\n    setAchievementsOpen(false);\n    props.handleOpen();\n  }\n\n  const handleSettingsOpen = () => {\n    setOpen(true);\n    props.handleClose();\n  };\n\n  const handleSettingsClose = () => {\n    setOpen(false);\n    props.handleOpen();\n  };\n\n  useEffect(() => {\n    if (user.uid != null) {\n      var unsub = db.collection(\"users\").doc(user.uid).onSnapshot(doc => {\n        if (doc != null) {\n          setUserData(doc.data());\n        }\n      })\n\n      return (()=> {\n        unsub();\n      })\n    } \n  }, [user, db])\n\n  const formatInterests = (interests) => {\n    if (interests == null) {\n      return \"\";\n    }\n    \n    let output = \"\";\n\n    interests.forEach(interest => {\n      output += interest + \" \";\n    });\n\n    return output;\n  }\n  \n  \n  const getProgress = (achievements) => {\n    if (achievements == null) {\n      return 0;\n    }\n    \n    let numAchieved = 0;\n    let numKeys = 0;\n\n    Object.keys(achievements).forEach(key => {\n      if (achievements[key] === true) {\n        numAchieved += 1;\n      }\n      numKeys += 1;\n    });\n\n    let result = Math.ceil((numAchieved/numKeys) * 100);\n    return result;\n  }\n\n  const renderMedal = (achievements) => {\n    if (achievements == null) {\n      return <img src = {EmptyMedal} style = {{marginBottom: \"2%\"}} alt = \"\"/>\n    }\n    \n    let numAchieved = 0;\n\n    Object.keys(achievements).forEach(key => {\n      if (achievements[key] === true) {\n        numAchieved += 1;\n      }\n    });\n\n    if (numAchieved === 0) {\n      return <img src = {EmptyMedal} style = {{marginBottom: \"2%\"}} alt = \"\"/>\n    } else if (numAchieved === 1) {\n      return <img src = {BronzeMedal} style = {{marginBottom: \"2%\"}} alt = \"\"/>\n    } else if (numAchieved === 2) {\n      return <img src = {SilverMedal} style = {{marginBottom: \"2%\"}} alt = \"\"/> \n    } else {\n      return <img src = {GoldMedal} style = {{marginBottom: \"2%\"}} alt = \"\"/>\n    }\n  }\n  \n  useEffect(() => {\n    let completed = {};\n    \n    if (userData == null) {\n      setAchievements(completed);\n    } else {\n      //Check if post has been made\n      if (userData.posts.length >= 1) {\n        completed[\"post\"] = true;\n      } else {\n        completed[\"post\"] = false;\n      }\n\n      //Check if >= 5 connections\n      if (userData.connections.length >= 5) {\n        completed[\"connections\"] = true;\n      } else {\n        completed[\"connections\"] = false;\n      }\n\n      let docRef = fire.firestore().collection(\"users\").doc(fire.auth().currentUser.uid);\n\n      let unsub = fire.firestore().collection(\"comments\").where(\"userRef\", \"==\", docRef).onSnapshot(snapshot => {        \n        if (!snapshot.empty) {\n          completed[\"comment\"] = true;\n        } else {\n          completed[\"comment\"] = false;\n        }\n        setAchievements(completed);\n      })\n\n      return () => {\n        unsub();\n        }\n      }\n  }, [userData])\n\n  return (\n    <div>\n        <Modal\n            className={classes.modal}\n            open={props.open}\n            onClose={props.handleClose}\n            closeAfterTransition\n            BackdropComponent={Backdrop}\n            BackdropProps={{\n                timeout: 500,\n            }}\n        >\n            <Fade in={props.open}>\n                <div className={classes.paper} style = {{textAlign : \"center\"}}>\n                    <div style = {{display : \"flex\", justifyContent: \"flex-end\"}}>\n                      <IconButton onClick = {() => {\n                        props.handleClose();\n                        // console.log(\"test\");\n                      }}>\n                        <CloseIcon style = {{color: \"white\"}}/>\n                      </IconButton>\n                    </div>\n\n                    <ImageAvatar img = {user.photoURL} /> \n                    <h2 style = {{color: '#fff', marginBottom: \"0\"}}>{user.displayName}</h2>\n                    <h3 style = {{marginBottom: \"0\"}}> My Achievement Progress </h3>\n                    <IconButton onClick = {handleAchievementsOpen}>\n                      {renderMedal(achievements)}\n                    </IconButton>\n                    <ProgressBar progress = {getProgress(achievements)}/>\n                    \n                    <p><b>Interests</b> : {formatInterests(userData == null ? null : userData.interests)} </p>\n                    <p><b>Favourite Album</b> : {userData != null ? userData.favAlbum : \"\"} </p>\n                    <p><b>Favourite Artist</b> : {userData != null ? userData.favArtist : \"\"} </p>\n                    {/* <p><b>Other Info</b> : Placeholder Text</p> */}\n                    <IconButton onClick = {handleSettingsOpen} style = {{color: \"inherit\"}}>\n                        <SettingsIcon/>\n                    </IconButton>\n                </div>\n            </Fade>\n        </Modal>\n        <SettingsModal open = {open} handleClose = {handleSettingsClose}/>\n        <AchievementsModal open = {achievementsOpen}  handleClose = {handleAchievementsClose} achievements = {achievements}/>\n    </div>\n  );\n}\n","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport { Link } from 'react-router-dom';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport ShareIcon from '@material-ui/icons/Share';\nimport PersonIcon from '@material-ui/icons/Person';\nimport UserProfileModal from \"./profileComponents/userProfileModal\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fire } from '../config/fire'\n/* global gapi */\n\nconst useStyles = makeStyles((theme) => ({\n    iconButton: {\n        color: 'inherit',\n        paddingLeft: theme.spacing(0.25),\n        paddingRight: theme.spacing(0.25),\n    }\n  }));\n\nfunction NavBar(props) {\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleSignOut = async () => {\n        // console.log(gapi.auth)\n        gapi.auth.setToken(null)\n        gapi.auth.signOut()\n        fire.auth().signOut().then(() => {\n            console.log(\"user signed out\")\n\n        }).catch(err => {\n            console.log(err);\n        })\n    }\n    return (\n        <AppBar position=\"fixed\" className={props.appBar} style={{ background:'#303030', boxShadow: 'none'}}>\n            <Toolbar>\n            <IconButton\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n                edge=\"start\"\n                onClick={props.handleDrawerToggle}\n                className={props.menuButton}\n            >\n                <MenuIcon />\n            </IconButton>\n            <Typography variant=\"h6\" style = {{ flexGrow : 1 }}>\n                <Link to={\"/home/token/\" + props.token} style={{ textDecoration: 'none', color: 'inherit '}}>\n                    Mosh\n                </Link>\n            </Typography>\n            <div style={{display: \"flex\", flexDirection:\"row\", alignItems:\"center\"}}>\n                <div style={{ textDecoration: 'none', color: 'white ', margin: \"5px\"}} onClick = {handleOpen}>\n                    <IconButton className = {classes.iconButton}>\n                        <PersonIcon/>\n                    </IconButton>\n                </div>\n                <Link to={\"/discover/token/\" + props.token} style={{ textDecoration: 'none', color: 'inherit ', margin: \"5px\"}}>\n                    <IconButton className = {classes.iconButton}>\n                        <SearchIcon/>\n                    </IconButton>\n                </Link>\n                <Link to={\"/share/token/\" + props.token} style={{ textDecoration: 'none', color: 'inherit', margin: \"5px\"}}>\n                    <IconButton className = {classes.iconButton}>\n                        <ShareIcon/>\n                    </IconButton>\n                </Link>\n                <div style={{ textDecoration: 'none', color: 'inherit', margin: \"5px\" }}>\n                    <IconButton onClick = {handleSignOut} className = {classes.iconButton}>\n                        <ExitToAppIcon />\n                    </IconButton>\n                </div>\n            </div>\n            </Toolbar>\n            <UserProfileModal open = {open} handleOpen = {handleOpen} handleClose = {handleClose}/>\n        </AppBar>\n        )\n}\nexport default NavBar;\n","import React from \"react\"\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport { Box, ListSubheader } from \"@material-ui/core\";\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport MusicNoteIcon from '@material-ui/icons/MusicNote';\nimport AlbumIcon from '@material-ui/icons/Album';\nimport PeopleIcon from '@material-ui/icons/People';\nimport ShareIcon from '@material-ui/icons/Share';\nimport GroupAddIcon from '@material-ui/icons/GroupAdd';\n\nimport {Link} from 'react-router-dom';\n\nexport class DiscPri extends React.Component {    \n    renderButton(title) {\n        var icon, button_text;\n            \n        if (title === \"music\") {\n            icon = <MusicNoteIcon/>\n            button_text = \"Music\"\n        } else if (title === \"concerts\") {\n            icon = <AlbumIcon/>\n            button_text = \"Concerts\";\n        } else if (title === \"people\") {\n            icon = <GroupAddIcon/>\n            button_text = \"People\";\n        } else if (title === \"shared\") {\n            icon = <ShareIcon/>\n            button_text = \"Shared With Me\"\n        }\n        return ( \n            <Link to = {\"/discover/\" + title.toLowerCase() + \"/\" + this.props.token} key = {title} style = {{textDecoration: 'none', color: \"inherit\"}}>\n                <ListItem button onClick = {(event) => this.props.handleSelection(event,title)} selected = {this.props.selectedTag === title}> \n                    <ListItemIcon style={{ color: \"inherit\" }}>\n                        {icon}\n                    </ListItemIcon>\n                    <ListItemText primary = {button_text} style={{ color: \"inherit\" }}/>\n                </ListItem>\n            </Link>\n        )\n    }\n\n    renderButtons() {\n        let buttons = this.props.primaryTags.map(title => this.renderButton(title));\n        \n        return buttons;\n    }\n\n    render () {\n        \n        return (\n            <List component=\"nav\" aria-label=\"main list\" style = {{flexGrow : 1}}>\n                <ListSubheader style = {{textAlign : \"center\", paddingBottom: \"2%\", color: \"inherit\"}}>\n                    <ListItemText primary = \"Discover\"/>\n                </ListSubheader>\n                <Divider />                \n                {this.renderButtons()}\n            </List>\n        )\n    }   \n}\n\nexport class DiscSec extends React.Component {\n    render () {\n        return (\n            <Box style={{color: \"inherit\"}}>\n                <Divider />\n                <List component=\"nav\" aria-label=\"secondary list\">\n                    <Link to = \"/discover/connections\" style = {{textDecoration: 'none', color: \"inherit\"}}>\n                        <ListItem button onClick = {(event) => this.props.handleSelection(event,\"connections\")} selected = {this.props.selectedTag === \"connections\"}>\n                            <ListItemIcon style={{ color: \"inherit\" }}>\n                                <PeopleIcon/>\n                            </ListItemIcon>\n                            <ListItemText primary=\"Your Connections\" />\n                        </ListItem>\n                    </Link>\n                </List>\n            </Box>\n        )\n    }  \n}\n","//https://github.com/lacymorrow/album-art USE THIS FOR ALBUM ART\n\nimport firebase from 'firebase';\nimport {fire} from '../../config/fire'\n\nvar count = 0;\n//var fb=fire;\nconst API_KEY = 'AIzaSyBhklDEhDYrLwf5mMkLKsA34Btqjpj8S7k';\nconst CLIENT_ID = '542831090816-nvuicfih0d0ulh87cjinkfrmg1tlfciq.apps.googleusercontent.com'\nconst AUTH_SCOPES = [\n    'email',\n    'profile',\n    'https://www.googleapis.com/auth/youtube.readonly',\n]\nconst DISCOVERY_DOCS = [\n    'https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest'\n];\n\nasync function handleIsSignedIn(isSignedIn) {\n    if (!isSignedIn) {\n        var gapi = window.gapi\n        if (gapi === undefined){\n            return \"undefined\"\n        }\n        gapi.client.init({\n            apiKey: API_KEY,\n            clientId: CLIENT_ID,\n            discoveryDocs: DISCOVERY_DOCS,\n            scope: AUTH_SCOPES.join(' '),\n        })\n        console.log('loaded firebase',count)\n        const auth2 = gapi.auth2.getAuthInstance()\n        console.log(auth2.isSignedIn.get())\n        if (auth2.isSignedIn.get()){\n            auth2.currentUser.get();\n            // const authResponse = currentUser.getAuthResponse(true)\n            // console.log(\"already Signed In\")\n            return \"SignedIn\"\n        } else {\n            let r1 = await auth2.signIn()\n            .then( async () => {\n                console.log(\"SIGNING IN\")\n                const currentUser = auth2.currentUser.get()\n                const profile = currentUser.getBasicProfile()\n                console.log('gapi: user signed in!', {\n                    name: profile.getName(),\n                    imageURL: profile.getImageUrl(),\n                    email: profile.getEmail(),\n                })\n                const authResponse = currentUser.getAuthResponse(true)\n                const credential = firebase.auth.GoogleAuthProvider.credential(\n                    authResponse.id_token,\n                    authResponse.access_token\n                )\n                //sign in to firebase\n                await fire.auth().signInWithCredential(credential)\n                .then(({ user }) => {\n                    console.log('firebase: user signed in!', {\n                    displayName: user.displayName,\n                    email: user.email,\n                    photoURL: user.photoURL,\n                    })\n                }).then(() => {\n                    console.log(\"rerender\")\n\n                });\n                //console.log(rr1)\n                //make api calls from here\n            })\n            console.log(r1)\n            return \"SignedIn\"\n        }\n        \n\n    } else {\n        console.log('gapi: user is not signed in')\n    }\n    return \"finished\"\n}\nasync function getYoutubeData(type){\n    var output = []\n    var videoId;\n    var gapi = window.gapi;\n\n    if (gapi === undefined){\n        return \n    }\n\n    const access_token = gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse(true).access_token\n    const YoutubeType = type\n    let videoTitles;\n    var videoOptions = {\n        access_token:access_token,\n        key:API_KEY, \n        part:'snippet,id',\n        maxResults:10,\n        myRating:'like'\n    }\n    const likedQuery = Object.keys(videoOptions).map(k => encodeURIComponent(k) + '=' + encodeURIComponent(videoOptions[k])).join('&');\n    var likedURL = 'https://www.googleapis.com/youtube/v3/videos?' + likedQuery;\n    await fetch(likedURL)\n    .then(response => response.json())\n    .then(responseData => {\n        if (responseData.items == null){\n            return \"error\"\n        } else {\n            //only grab music from liked list\n            videoId = (responseData.items).filter(a => a.snippet.categoryId === \"10\").map(a => a.id);\n            videoTitles = (responseData.items).filter(a => a.snippet.categoryId === \"10\").map(a => a.snippet.title);\n            //setResult(videoId[0])\n        }\n    }).then(async (err) =>{\n        let r3;\n        //https://developers.google.com/youtube/v3/docs/search/list\n        //relatedToVideoId\n        //fetch();\n        if (err){\n            return err\n        }\n        if (YoutubeType === \"tags\"){\n            async function tags() {\n                var output = [];\n                // var output = '<br>'\n                videoTitles.forEach(item => {\n                    output.push(item.split(' -')[0])\n                });\n                return output;\n            }\n            r3 = tags()\n        } else {\n            var relatedOptions = {\n                key:API_KEY, \n                part:'snippet',\n                maxResults:10,\n                type:'video',\n                relatedToVideoId:videoId[0],\n                topicId:'/m/04rlf',\n                q:'Official Music Video'\n            }\n            console.log(videoId[0])\n            const relatedQuery = Object.keys(relatedOptions).map(k => encodeURIComponent(k) + '=' + encodeURIComponent(relatedOptions[k])).join('&');\n            var relatedURL = 'https://www.googleapis.com/youtube/v3/search?' + relatedQuery;\n            r3 = await fetch(relatedURL)\n            .then(response => response.json())\n            .then(responseData => {\n                console.log(responseData);\n                if (responseData.items == null){\n                    console.log(responseData)\n                } else {\n                    console.log(YoutubeType)\n                    if (YoutubeType === \"tags\"){\n                        var recommendedTitles = (responseData.items).map(a => a.snippet.title);\n                        //loop through\n                        var output = [];\n                        // var output = '<br>'\n                        recommendedTitles.forEach(item => {\n                            //console.log(item.split(' -'))\n                            output.push(item.split(' -')[0])\n                            // output += `\n                            //     <div>${item.split('-')[0]}, ${item.split('-')[1]}</div>\n                            // `;\n                        });\n                        //var recommendedArtists = recommendedTitles.split('-')[0]\n    \n                        //remove dupes\n                        var uniqueOutput = output.filter((a, b) => output.indexOf(a) === b)\n                        console.log(uniqueOutput); \n                        output = uniqueOutput\n                        return output\n                        //setResult(output)\n                    } else {\n                        recommendedTitles = (responseData.items).map(a => a.snippet);\n                        console.log(recommendedTitles);\n                        var recommendedTitlesId = (responseData.items).map(a => a.id.videoId);\n                        console.log(recommendedTitlesId);\n                        \n                        //setResult(recommendedTitles.join(\" , \"))\n                        //let output = '<br><h4 class=\"center-align\">Recommended Videos</h4>';\n                        let output = [];\n                        // Loop through videos and append output\n                        // recommendedTitlesId.forEach(item => {\n                        //     output.push('https://www.youtube.com/watch?v='+item)\n                        //     // output += `\n                        //     //     <iframe width=\"auto\" height=\"auto\" src=\"https://www.youtube.com/embed/${item}\" frameborder=\"0\" allowfullscreen></iframe>\n                        //     // `;\n                        // });\n                        output = responseData.items\n                        return output\n                        //setResult(output)\n                        // // Output videos\n                        // videoContainer.innerHTML = output;\n                    }\n        \n                }\n            })\n        }\n        output = r3\n    });\n    return output\n}\n\nexport {handleIsSignedIn,getYoutubeData};","import React from \"react\"\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport { Box, ListSubheader } from \"@material-ui/core\";\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport PeopleIcon from '@material-ui/icons/People';\nimport Spotify from 'spotify-web-api-js';\nimport {Link} from 'react-router-dom';\nimport {handleIsSignedIn,getYoutubeData} from './Youtube/YoutubeFunctions';\n\n\nconst spotifyApi = new Spotify();\n\nexport class HomePri extends React.Component {    \n    constructor(props) {\n        super(props);\n        this.state = {\n            token: this.props.primaryTags,\n            list: [],\n            youtubelist:[],\n            gapi:window.gapi,\n            finished:false,\n        }\n        if (this.state.token) {\n          spotifyApi.setAccessToken(this.state.token);\n        }\n        this.getTopArtists();\n    }\n\n    getTopArtists = async () => {\n        //var rerenderCallback = this.props.rerenderCallback\n        if (this.state.token !== \"undefined\" && this.state.token){\n            spotifyApi.getMyTopArtists()\n            .then((response) => {\n                response.items.map(obj => this.state.list.push(obj.name))\n                this.props.rerenderCallback(this.state.list)\n            }, (err) => {\n                console.error(err);\n            })\n        }\n        async function callAsync() {\n            if (!window.gapi){\n                return\n            }\n            if (!window.gapi.auth2.getAuthInstance()){\n                return\n            }\n            if (!window.gapi.auth2.getAuthInstance().isSignedIn.get()){\n                return\n            }\n            \n            await handleIsSignedIn(false)\n\n            async function callAsync2() {\n                var YoutubeData = await getYoutubeData(\"tags\")\n                return YoutubeData\n            }\n            return callAsync2()\n        }\n        await callAsync().then(YoutubeData => {\n            if (YoutubeData === undefined){\n                YoutubeData = []\n            }\n            YoutubeData.map(obj => this.props.rerenderCallback(obj))\n            return YoutubeData;\n        })\n    }\n\n    renderButton(title) {\n        return ( \n            <Link to = {`/home/artist/${title.replace(/\\s+/g, '')}`} key = {title} style = {{textDecoration: 'none', color: \"inherit\"}}>\n                <ListItem button onClick = {(event) => this.props.handleSelection(event,title)} selected = {this.props.selectedTag === title}> \n                    <ListItemText primary = {title}/>\n                </ListItem>\n            </Link>\n        )\n    }\n\n    renderButtons() {\n        //first filter and remove dupes\n        var UniqueList = this.props.state.artists.filter((a, b) => this.props.state.artists.indexOf(a) === b)\n        let buttons = UniqueList.map(title => this.renderButton(title));\n\n        // console.log(UniqueList)\n        return buttons;\n        \n        \n    }\n\n    render () {\n        //console.log(this.state.list[0])\n        return (\n            <List component=\"nav\" aria-label=\"main list\" style = {{flexGrow : 1}}>\n                <ListSubheader style = {{textAlign : \"center\", paddingBottom: \"2%\", color : \"inherit\"}}>\n                    <ListItemText primary = \"Your Top Artists\"/>\n                </ListSubheader>\n                <Divider/>      \n                <div>\n                    {/* {this.state.list[0]} */}\n                    {this.renderButtons()}\n                </div>   \n                {/* <App type={\"tags\"}></App> */}\n            </List>\n        )\n    }   \n}\n\nexport class HomeSec extends React.Component {\n    render () {\n        return (\n            <Box>\n                <Divider />\n                <List component=\"nav\" aria-label=\"secondary list\">\n                    <Link to = \"/discover/connections\" style = {{textDecoration: 'none', color: \"inherit\"}}>\n                        <ListItem button onClick = {(event) => this.props.handleSelection(event,\"connections\")} selected = {this.props.selectedTag === \"connections\"}>\n                            <ListItemIcon style = {{color: \"inherit\"}}>\n                                <PeopleIcon/>\n                            </ListItemIcon>\n                            <ListItemText primary=\"Your Top Artists\" />\n                        </ListItem>\n                    </Link>\n                </List>\n            </Box>\n        )\n    }  \n}\n","import React from 'react';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\n\nimport {DiscPri, DiscSec} from \"./discoverComponents/discoverBar\"\nimport {HomePri} from \"./homescreenBar\"\n\nclass MobileDrawer extends React.Component {\n    render() {\n        var discoverTags = [\"music\", \"people\", \"shared\"];\n        var renderBars;\n        if (window.location.pathname.startsWith(\"/discover\")) {\n            renderBars = \n                <>\n                <DiscPri primaryTags = {discoverTags} token={this.props.token} handleSelection = {this.props.handleSelection} selectedTag = {this.props.selectedTag}/>\n                <DiscSec selectedTag = {this.props.selectedTag} token={this.props.token} handleSelection = {this.props.handleSelection}/>\n                </>\n            ;\n        } else {\n            renderBars = \n            <>\n            <HomePri primaryTags = {this.props.primaryTags}  state = {this.props.state} rerenderCallback = {this.props.rerenderCallback} handleSelection = {this.props.handleSelection} selectedTag = {this.props.selectedTag}/>\n            </>\n            ;\n        }\n        return (\n            <>\n            <Hidden smUp implementation=\"css\">\n                <Drawer\n                container={this.props.container}\n                variant=\"temporary\"\n                anchor=\"left\"\n                open={this.props.open}\n                onClose={this.props.handleDrawerToggle}\n                classes={{\n                    paper: this.props.drawerPaper,\n                }}\n                ModalProps={{\n                    keepMounted: true, // Better open performance on mobile.\n                }}\n                >\n                <div className={this.props.toolbar} />\n                {renderBars}\n                </Drawer>\n            </Hidden>\n            </>\n        )\n    }\n}\n\nclass DesktopDrawer extends React.Component {\n    render () {\n        var discoverTags = [\"music\", \"people\", \"shared\"];\n        var renderBars;\n        \n        if (window.location.pathname.startsWith(\"/discover\")) {\n            renderBars = \n                <>\n                <DiscPri primaryTags = {discoverTags} token={this.props.token} handleSelection = {this.props.handleSelection} selectedTag = {this.props.selectedTag}/>\n                <DiscSec selectedTag = {this.props.selectedTag} token={this.props.token} handleSelection = {this.props.handleSelection}/>\n                </>\n            ;\n        } else {\n            renderBars = \n            <>\n            <HomePri primaryTags = {this.props.primaryTags}  state = {this.props.state} rerenderCallback = {this.props.rerenderCallback} handleSelection = {this.props.handleSelection} selectedTag = {this.props.selectedTag}/>\n            </>\n            ;\n        }\n        return (\n            <Hidden xsDown implementation=\"css\">\n                <Drawer\n                classes={{\n                    paper: this.props.drawerPaper,\n                }}\n                variant=\"permanent\"\n                open\n                >\n                <div className={this.props.toolbar} />\n                {renderBars}\n                </Drawer>\n            </Hidden>\n        )\n    }\n}\n\nexport {MobileDrawer, DesktopDrawer}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport Button from \"@material-ui/core/Button\"\nimport ImageAvatar from \"../avatar\"\n\nimport {fire} from \"../../config/fire\"\nimport * as firebase from 'firebase/app';\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: \"#292b2a\",\n    color: \"rgba(255, 255, 255, 0.7)\",\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    outline: 'none',\n  },\n}));\n\n// const FieldValue = require('firebase-admin').firestore.FieldValue;\n\n\n//TODO: This page should be linked to a database query\nexport default function ProfileModal(props) {\n  const classes = useStyles();\n\n\n  const handleConnect = (e, id) => {\n    // console.log(id);\n    \n    let db = fire.firestore();\n    let userRef = db.collection(\"users\").doc(fire.auth().currentUser.uid);\n    let targetRef = db.collection(\"users\").doc(id);\n\n    userRef.update({\n      connections: firebase.firestore.FieldValue.arrayUnion(id),\n    });\n\n    targetRef.update({\n      connections: firebase.firestore.FieldValue.arrayUnion(fire.auth().currentUser.uid),\n    });\n  }\n\n  const handleDisconnect = (e, id) => {\n    let db = fire.firestore();\n    let userRef = db.collection(\"users\").doc(fire.auth().currentUser.uid);\n    let targetRef = db.collection(\"users\").doc(id);\n\n    userRef.update({\n      connections: firebase.firestore.FieldValue.arrayRemove(id),\n    });\n\n    targetRef.update({\n      connections: firebase.firestore.FieldValue.arrayRemove(fire.auth().currentUser.uid),\n    });\n  }\n\n  return (\n      <Modal\n          // aria-labelledby=\"transition-modal-title\"\n          // aria-describedby=\"transition-modal-description\"\n          className={classes.modal}\n          open={props.open}\n          onClose={props.handleClose}\n          closeAfterTransition\n          BackdropComponent={Backdrop}\n          BackdropProps={{\n              timeout: 500,\n          }}\n      >\n          <Fade in={props.open}>\n            <div className={classes.paper} style = {{textAlign : \"center\"}}>\n                <ImageAvatar img = {props.img} /> \n                <h2 style = {{color: \"#fff\"}}>{props.title}</h2>\n                <p><b>Interests</b> : {props.interests} </p>\n                <p><b>Favourite Album</b> : {props.favAlbum} </p>\n                <p><b>Favourite Artist</b> : {props.favArtist} </p>\n                <p><b>Resides In</b> : Australia </p>\n                <p><b>Connected Platforms</b> : Facebook, Spotify, Apple Music</p>\n                <Button variant=\"contained\" color={props.connected ? \"secondary\" : \"primary\"} onClick = {props.connected ? (e) => handleDisconnect(e, props.id) : (e) => handleConnect(e, props.id)}>\n                    {props.connected ? \"Disconnect\" : \"Connect\"}\n                </Button>\n            </div>\n          </Fade>\n      </Modal>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport ProfileModal from \"../profileModal\"\n// import UserProfileModal from \"../userProfileModal\"\n\nimport { createMuiTheme, responsiveFontSizes, ThemeProvider } from '@material-ui/core/styles';\n\nlet textTheme = createMuiTheme();\ntextTheme = responsiveFontSizes(textTheme);\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n    marginLeft: '2%',\n    flexGrow: 1,\n  },\n  content: {\n    flex: '1 0 auto',\n    paddingBottom: 0\n  },\n  cover: {\n    minWidth: 62,\n    width: \"25%\",\n    maxWidth : 151\n  },\n}));\n\nexport default function PersonCard(props) {\n  const classes = useStyles();\n  let [open, setOpen] = React.useState(false);\n\n  let handleOpen = () => {\n    setOpen(true);\n  };\n\n  let handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <Card className={classes.root}>\n        <CardMedia\n            className={classes.cover}\n            image = {props.img}\n            title=\"Avatar Image\"\n        />\n        <div className={classes.details}>\n            <CardContent className={classes.content}>\n                <ThemeProvider theme={textTheme}>\n                  <Typography variant=\"h6\">\n                      <b> {props.title} </b>\n                  </Typography>\n                  <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                      <b> Interests </b> : {props.likes}\n                  </Typography>\n                </ThemeProvider>\n            </CardContent>\n            <div style = {{display: 'flex', justifyContent: \"flex-end\", alignItems : \"flex-start\"}}>\n              <IconButton aria-label=\"addPerson\" style = {{paddingTop: 0}} onClick = {handleOpen}>\n                <AddCircleIcon className={classes.playIcon} />\n              </IconButton>\n            </div>\n        </div>\n        <ProfileModal open = {open} handleClose = {handleClose} img = {props.img} title = {props.title} connected = {props.connected} favAlbum = {props.favAlbum} \n        favArtist = {props.favArtist} interests = {props.likes} id = {props.id}\n        />\n    </Card>\n  );    \n}\n","import React from 'react'\nimport PersonCard from \"./discoverCards/personCard\"\nimport {useEffect} from 'react'\nimport {fire} from \"../../config/fire\"\n\nexport default function DiscoverPeople() {\n    let db = fire.firestore();\n    let user = fire.auth().currentUser;\n\n    const [users, setUsers] = React.useState([]); \n    // const [open, setOpen] = React.useState(false);   \n\n    const cardStyles = {\n        marginBottom : \"3%\"\n    }\n\n    useEffect(() => {\n        var unsub = db.collection(\"users\").onSnapshot(snapShot => {\n            let userList = [] \n            \n            snapShot.forEach(doc => {\n                if (doc.id !== user.uid && !doc.data().connections.includes(user.uid)) {\n                    let userData = doc.data();\n                    userData[\"id\"] = doc.id;\n\n                    userList.push(userData);\n                }\n            });\n            setUsers(userList);\n        })\n\n        return () => {\n            unsub();\n        }\n    }, [db, user])\n\n    const formatInterests = (interests) => {\n        if (interests == null) {\n          return \"\";\n        }\n        \n        let output = \"\";\n    \n        interests.forEach(interest => {\n          output += interest + \" \";\n        });\n    \n        return output;\n      }\n    \n    return (\n        <div style = {{display: \"flex\", flexDirection: \"column\"}}> \n            {users.map(user => \n                <div style = {cardStyles} key = {user.id}>\n                    <PersonCard title = {user.displayName} likes = {formatInterests(user.interests)} connected = {false} img = {user.photoURL} favArtist = {user.favArtist} \n                    favAlbum = {user.favAlbum} id = {user.id}\n                    />\n                </div>\n            )}\n        </div>\n    )\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport ShareIcon from '@material-ui/icons/Share'\nimport { createMuiTheme, responsiveFontSizes, ThemeProvider } from '@material-ui/core/styles';\n\nimport {fire} from \"../../../config/fire\"\n\nlet textTheme = createMuiTheme();\ntextTheme = responsiveFontSizes(textTheme);\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n    marginLeft: '2%',\n    flexGrow: 1,\n  },\n  content: {\n    flex: '1 0 auto',\n    paddingBottom: 0\n  },\n  cover: {\n    minWidth: 62,\n    width: \"20%\",\n    maxWidth : 151\n  },\n  controls: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n  },\n}));\n\nexport default function MusicCard(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [share, setShare] = React.useState(false);\n\n\n\n  const handleClickShare = () => {\n    setShare(true);\n  };\n\n  const handleCloseShare = () => {\n\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const handleOpenLink = () => {\n    setShare(false);\n  };\n\n  const handleShare = (spotifyId, targetId) => {\n    let db = fire.firestore();\n\n    db.collection(\"shares\").add({\n      reciever: targetId,\n      sender: fire.auth().currentUser.uid,\n      spotifyID: spotifyId, \n    }).catch(err => {\n      alert(err);\n    })\n  }\n\n  return (\n    <>\n    <Card className={classes.root}>\n        <CardMedia\n            className={classes.cover}\n            image = {props.img}\n            title=\"Album Art\"\n          style={{width: \"150px\", height:\"150px\"}}\n        />\n        <div className={classes.details}>\n            <CardContent className={classes.content}>\n                <ThemeProvider theme={textTheme}>\n                  <Typography variant=\"h6\" style={{width: \"300px\", whiteSpace: \"nowrap\", overflow:\"hidden\", textOverflow:\"ellipsis\"}}>\n                      <b> {props.title} </b>\n                  </Typography>\n                  <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                      <b> Artist </b> : {props.artist}\n                  </Typography>\n                  {props.album ?\n                  <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                      <b> Album </b> : {props.album}\n                  </Typography>\n                  :\n                  <div></div>\n                  }\n                </ThemeProvider>\n            </CardContent>\n            <div style = {{display: 'flex', justifyContent: \"flex-end\", alignItems : \"flex-start\"}}>\n              <IconButton aria-label=\"play/pause\" style = {{paddingTop: 0}} onClick={handleClickOpen}>\n                <PlayArrowIcon className={classes.playIcon} />\n              </IconButton>\n              <IconButton aria-label=\"play/pause\" style = {{paddingTop: 0}} onClick={handleClickShare}>\n                <ShareIcon className={classes.playIcon} />\n              </IconButton>\n            </div>\n        </div>\n        <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <iframe width=\"600\" height=\"500\" title = {props.title} src={\"https://embed.odesli.co/?url=\"+ props.link + \"&theme=dark\"}frameBorder=\"0\" allowtransparency=\"true\" allowFullScreen sandbox=\"allow-same-origin allow-scripts allow-presentation allow-popups allow-popups-to-escape-sandbox\"></iframe>\n      </Dialog>\n\n      <Dialog\n        open={share}\n        onClose={handleCloseShare}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"Share this song with your mates!\"}</DialogTitle>\n        <DialogContent>\n          {props.connections.map((user) =>\n                <Button onClick={() => {\n                  handleShare(props.id, user.uid)\n                }} key = {user.uid} >\n                  {user.displayName}\n                </Button>\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleOpenLink} color=\"primary\" autoFocus>\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Card>\n    </>\n  );    \n}\n","import React from 'react'\nimport {Grid} from '@material-ui/core'\nimport MusicCard from \"./discoverCards/musicCard\"\nimport Spotify from 'spotify-web-api-js';\nimport {fire} from \"../../config/fire\"\n\n\nconst spotifyApi = new Spotify();\n\nconst cardStyles = {\n    marginBottom : \"3%\"\n}\n\nclass discoverShared extends React.Component {\n    constructor(props) {\n        super(props);\n        let currToken;\n        if (window.location.pathname.startsWith(\"/discover/token/\")) {\n            currToken = window.location.pathname.replace(\"/discover/token/\", \"\");\n        } else {\n            currToken = window.location.pathname.replace(\"/discover/shared/\", \"\");\n        }\n        this.state = {\n            token: currToken,\n            list: [],\n            songIds: [],\n            connections: [],\n        }\n        if (this.state.token) {\n          spotifyApi.setAccessToken(this.state.token);\n      }\n\n      this.getTracks();\n      this.unSubConnections = null;\n      this.unSubSongs = null;\n    }\n    \n    componentDidMount() {\n        let db = fire.firestore();\n        let user = fire.auth().currentUser;\n        \n        this.unSubConnections = db.collection(\"users\").where(\"connections\", \"array-contains\", user.uid).onSnapshot(snapShot => {\n            let userList = [] \n    \n            snapShot.forEach(doc => {\n                let data = {};\n                data[\"displayName\"] = doc.data()[\"displayName\"];\n                data[\"uid\"] = doc.id;\n    \n                userList.push(data);\n            });\n    \n            this.setState({\n              connections: userList,\n            })\n        })\n\n\n        this.unSubSongs = db.collection(\"shares\").where(\"reciever\", \"==\", fire.auth().currentUser.uid).onSnapshot(snapShot => {\n            let songList = [];\n\n            snapShot.forEach(doc => {\n                songList.push(doc.data().spotifyID);\n            })\n            // console.log(songList);\n\n            this.setState({\n                songIds: songList,\n            })\n\n        })\n        \n    }\n    \n    componentWillUnmount() {\n        this.unSubConnections();\n        this.unSubSongs();\n    }\n\n\n    getTracks() {\n        spotifyApi.getTracks([\"0rKtyWc8bvkriBthvHKY8d\"])\n                .then((response) => {\n                    response.tracks.map(obj => this.setState(prevState=> ({\n                        list: [...prevState.list,{\n                        id: obj.id,\n                        albumArt: obj.album.images[0].url,\n                        albumName: obj.album.name,\n                        songArtists: obj.artists[0].name, \n                        songName: obj.name, \n                        link: obj.external_urls.spotify,\n                        }]\n                    })))\n                }, (err) => {\n                    console.error(err);\n        })\n    }\n\n    renderButton(obj) {\n        return ( \n            <Grid style = {cardStyles}>\n                <MusicCard id={obj.id} title ={obj.songName} artist = {obj.songArtists} album = {obj.albumName} img = {obj.albumArt} link={obj.link} \n                connections = {this.state.connections}/>\n            </Grid>\n        )\n    }\n\n    renderCards() {\n        let musicCards = this.state.list.map(obj => this.renderButton(obj));\n        return musicCards;\n    }\n    \n    render() {\n        return (\n            <div style = {{display: \"flex\", flexDirection: \"column\"}}> \n                {this.renderCards()}\n            </div>\n        );\n    }\n}\n\nexport default discoverShared;","import React from 'react'\nimport {Grid } from '@material-ui/core'\nimport MusicCard from \"./discoverCards/musicCard\"\n//import MusicCard from \"../musicCard\"\nimport Spotify from 'spotify-web-api-js';\nimport {handleIsSignedIn,getYoutubeData} from '../Youtube/YoutubeFunctions';\nimport albumArt from 'album-art'\nimport {fire} from \"../../config/fire\"\nconst spotifyApi = new Spotify();\nconst cardStyles = {\n    marginBottom : \"3%\"\n}\n\nclass discoverMusic extends React.Component {\n    constructor(props) {\n        super(props);\n        let currToken;\n        if (window.location.pathname.startsWith(\"/discover/token/\")) {\n            currToken = window.location.pathname.replace(\"/discover/token/\", \"\");\n        } else {\n            currToken = window.location.pathname.replace(\"/discover/music/\", \"\");\n        }\n        this.state = {\n            token: currToken,\n            list: [],\n            connections: [],\n        }\n        if (this.state.token) {\n          spotifyApi.setAccessToken(this.state.token);\n      }\n      this.getRecom();\n      this.unSubConnections = null;\n      \n      \n    }\n    componentDidMount() {\n        let db = fire.firestore();\n        let user = fire.auth().currentUser;\n        \n        this.unSubConnections = db.collection(\"users\").where(\"connections\", \"array-contains\", user.uid).onSnapshot(snapShot => {\n            let userList = [] \n    \n            snapShot.forEach(doc => {\n                let data = {};\n                data[\"displayName\"] = doc.data()[\"displayName\"];\n                data[\"uid\"] = doc.id;\n    \n                userList.push(data);\n            });\n\n            this.setState({\n              connections: userList,\n            })\n        })\n    }\n    componentWillUnmount() {\n        this.unSubConnections();\n        // this.unSubSongs();\n    }\n\n\n    getTopArtists() {\n        let artists = [];\n        \n        return artists;\n    }\n      \n    async getRecom() {\n        let result = [];\n        \n\n        var callInstance = spotifyApi.getMyTopArtists({\n            limit: 5,\n        })\n                .then((response) => {\n                    response.items.map(obj => result.push(obj.id));\n                }, (err) => {\n                    console.error(err);\n            })\n\n        try {\n            await callInstance;\n            spotifyApi.getRecommendations({\n                seed_artists: result,\n            })\n                    .then((response) => {\n                        response.tracks.map(obj => this.setState(prevState=> ({\n                            list: [...prevState.list,{\n                            id: obj.id,\n                            albumArt: obj.album.images[0].url,\n                            albumName: obj.album.name,\n                            songArtists: obj.artists[0].name, \n                            songName: obj.name, \n                            link: obj.external_urls.spotify,\n                            }]\n                            \n                        })))\n                    }, (err) => {\n                        console.error(err);\n                })\n        } catch (err) {\n            console.error(err);\n        }\n        //DO YOUTUBE NOW\n        async function callAsync() {\n            if (!window.gapi){\n                return\n            }\n            if (!window.gapi.auth2.getAuthInstance()){\n                return\n            }\n            if (!window.gapi.auth2.getAuthInstance().isSignedIn.get()){\n                return\n            }\n            await handleIsSignedIn(false);\n\n            async function callAsync2() {\n                var YoutubeData = await getYoutubeData()\n                return YoutubeData\n            }\n            return callAsync2()\n        }\n        \n        await callAsync().then(async (YoutubeData) => {\n            if (YoutubeData === undefined){\n                YoutubeData = []\n            }\n            //can just use the title and its fine\n            albumArt( 'Rush' ).then( console.log )\n            const functionWithPromise = item => { //a function that returns a promise\n                return Promise.resolve('ok')\n            }\n              \n            const anAsyncFunction = async obj => {\n                var album = await albumArt(obj.snippet.title.split(' -')[0], ( error, response ) => {\n                    return response\n                    })\n                var album_backup = await albumArt(obj.snippet.channelTitle, ( error, response ) => {\n                    return response\n                    })\n                var  album_backup_backup= obj.snippet.thumbnails.default.url\n                if (!album){\n                    album = album_backup\n                    if (!album){\n                        album = album_backup_backup\n                    }\n                }\n                // console.log(album)\n\n                this.setState(prevState =>({\n                    list: [...prevState.list,{\n                    albumArt: album,\n                    albumName: '',\n                    songArtists: obj.snippet.channelTitle, \n                    songName: obj.snippet.title.split('- ').pop(), \n                    link: `https://www.youtube.com/watch?v=${obj.id.videoId}`,\n                    }]\n                }))\n                return functionWithPromise(obj)\n            }\n              \n            const getData = async () => {\n            return Promise.all(YoutubeData.map(item => anAsyncFunction(item)))\n            }\n            \n            await getData();\n            return YoutubeData\n        })\n    }\n    \n    renderButton(obj) {\n        return ( \n            <Grid style = {cardStyles} key = {obj.id}>\n                <MusicCard connections={this.state.connections} key = {obj.songName} title ={obj.songName} artist = {obj.songArtists} album = {obj.albumName} img = {obj.albumArt} link={obj.link}/>\n            </Grid>\n        )\n    }\n\n    render() {\n        return (\n            <div style = {{display: \"flex\", flexDirection: \"column\"}}> \n                {this.state.list.map(obj => this.renderButton(obj))}\n            </div>\n        );\n    }\n}\n\nexport default discoverMusic;","import React from 'react'\nimport {Grid} from '@material-ui/core'\nimport PersonCard from \"./discoverCards/personCard\"\nimport {fire} from \"../../config/fire\"\nimport {useEffect} from 'react'\n\nexport default function YourConnections() {\n    let db = fire.firestore();\n    let user = fire.auth().currentUser;\n\n    const [users, setUsers] = React.useState([]); \n\n    useEffect(() => {\n        \n        var unsub = db.collection(\"users\").where(\"connections\", \"array-contains\", user.uid).onSnapshot(snapShot => {\n            let userList = [] \n\n            snapShot.forEach(doc => {\n                let connectionData = doc.data();\n\n                connectionData[\"id\"] = doc.id;\n                userList.push(connectionData);\n            });\n\n            setUsers(userList);\n        })\n\n        return () => {\n            unsub();\n        }\n    }, [db, user])\n\n    const formatInterests = (interests) => {\n        if (interests == null) {\n          return \"\";\n        }\n        \n        let output = \"\";\n    \n        interests.forEach(interest => {\n          output += interest + \" \";\n        });\n    \n        return output;\n      }\n    \n    const cardStyles = {\n        marginBottom : \"3%\"\n    }\n    \n    return (\n        <div style = {{display: \"flex\", flexDirection: \"column\"}}> \n            {users.map(user => \n                <Grid style = {cardStyles} key = {user.id}>\n                    <PersonCard title = {user.displayName} likes = {formatInterests(user.interests)} connected = {true} img = {user.photoURL} favArtist = {user.favArtist} \n                        favAlbum = {user.favAlbum} id = {user.id}/>\n                </Grid> \n            )}\n    </div>\n    )\n}","import React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport NavBar from \"../components/navBar\"\nimport {DesktopDrawer, MobileDrawer} from \"../components/drawers\"\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport {Switch, Route} from 'react-router-dom'\nimport DiscoverPeople from \"../components/discoverComponents/discoverPeople\"\nimport discoverShared from \"../components/discoverComponents/discoverShared\"\nimport discoverMusic from \"../components/discoverComponents/discoverMusic\"\nimport YourConnections from \"../components/discoverComponents/yourConnections\"\n\nconst drawerWidth = 200;\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n  // necessary for content to be below app bar\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n    backgroundColor: \"#292b2a\",\n    color: \"white\",\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n});\n\nclass Discover extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            mobileOpen : false,\n            primaryTags : [\"music\", \"people\", \"shared\"],\n            selectedTag: \"music\",\n            token: window.location.pathname.replace(\"/discover/token/\", \"\"),\n        }\n    }\n\n    handleDrawerToggle = () => {\n        this.setState((state) => ({\n            mobileOpen : !state.mobileOpen\n        }))\n    };\n\n    handleSelection = (event, title) => {\n        this.setState(() => ({\n            selectedTag : title\n        }), () => {\n          if (this.state.mobileOpen === true) {\n            this.handleDrawerToggle();\n          }\n        })\n    }\n    render () {\n        const {classes} = this.props;\n        // console.log(this.state.token);\n        return  (\n            <div className={classes.root}>\n                <CssBaseline />\n\n                {/* Navbar Goes Here */}\n                <NavBar token={this.state.token} appBar = {classes.appBar} menuButton = {classes.menuButton} handleDrawerToggle = {this.handleDrawerToggle}/>\n\n                <nav className={classes.drawer}>\n\n                    <MobileDrawer token={this.state.token} type=\"discover\" container = {classes.container} open = {this.state.mobileOpen} handleDrawerToggle = {this.handleDrawerToggle}\n                    drawerPaper = {classes.drawerPaper} primaryTags = {this.state.primaryTags} handleSelection = {this.handleSelection}\n                    selectedTag = {this.state.selectedTag}/>\n\n                    <DesktopDrawer token={this.state.token}  type=\"discover\" drawerPaper = {classes.drawerPaper} toolbar = {classes.toolbar} primaryTags = {this.state.primaryTags}\n                // <NavBar token={this.state.token} appBar = {classes.appBar} menuButton = {classes.menuButton} handleDrawerToggle = {this.handleDrawerToggle}/>\n                \n                // <nav className={classes.drawer}>\n\n                //     <MobileDrawer type=\"discover\" token= {this.state.token} container = {classes.container} open = {this.state.mobileOpen} handleDrawerToggle = {this.handleDrawerToggle} \n                //     drawerPaper = {classes.drawerPaper} primaryTags = {this.state.primaryTags} handleSelection = {this.handleSelection}\n                //     selectedTag = {this.state.selectedTag}/>\n                    \n                //     <DesktopDrawer type=\"discover\" token= {this.state.token} drawerPaper = {classes.drawerPaper} toolbar = {classes.toolbar} primaryTags = {this.state.primaryTags}\n                    handleSelection = {this.handleSelection} selectedTag = {this.state.selectedTag}/>\n                </nav>\n\n\n                <main className={classes.content}>\n                    <div className={classes.toolbar} />\n\n                    {/* Main Body of page goes here */}\n                    <Switch>\n                        <Route path = \"/discover/token/\" component = {discoverMusic}/>\n                        <Route path = \"/discover/music/\"  component = {discoverMusic}/>\n                        {/* <Route path = '/discover/concerts'  component = {discoverConcerts}/> */}\n                        <Route path = '/discover/people' component = {DiscoverPeople}/>\n                        <Route path = '/discover/shared' component = {discoverShared}/>\n                        <Route path = '/discover/connections' component = {YourConnections}/>\n                    </Switch>\n                </main>\n            </div>\n        )\n    }\n}\n\nDiscover.propTypes = {\n    classes: PropTypes.object.isRequired,\n    // Injected by the documentation to work in an iframe.\n    // You won't need it on your project.\n    container: PropTypes.object,\n};\n\nexport default withStyles(styles, {withTheme : true}) (Discover);\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport Button from \"@material-ui/core/Button\"\nimport {fire} from \"../../config/fire\"\nimport {useEffect} from \"react\"\n\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport { Divider, TextField } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  paper: {\n    backgroundColor: \"#292b2a\",\n    color: \"rgba(255, 255, 255, 0.7)\",\n    // backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n    outline: 'none',\n  },\n  button: {\n    margin: theme.spacing(1),\n  },\n}));\n\nconst theme = createMuiTheme({\n    palette: {\n      type: 'dark',\n    },\n  });\n\n//TODO: This page should be linked to a database query\nexport default function CommentsModal(props) {\n    const classes = useStyles();\n    const [comment, setComment] = React.useState(\"\");\n\n    const [comments, setComments] = React.useState([]);\n\n    const renderComment = (author, content, id) => {\n        return (\n            <div key = {id}>\n                <h4 style = {{color: \"white\", marginBottom: \"0.5em\"}}> <b>{author}</b> </h4>\n                <p style = {{marginTop : \"0.5em\"}}> {content} </p>\n            <Divider/>\n            </div>\n        )\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        let db = fire.firestore();\n\n        db.collection(\"comments\").add({\n            content: comment,\n            postId: props.id,\n            userRef: db.doc(\"users/\" + fire.auth().currentUser.uid),\n        }).then((doc) => {\n            setComment(\"\");\n        })\n        .catch(err => {\n            console.log(err.message);\n        })\n    }\n\n    useEffect(() => {\n        let db = fire.firestore();\n\n        var unsub = db.collection(\"comments\").where(\"postId\", \"==\", props.id).onSnapshot(snapShot => {\n            let commentsList = [];\n            let promises = []\n            \n            snapShot.forEach(doc => {\n                let commentData = {};\n                commentData[\"id\"] = doc.id;\n                commentData[\"content\"] = doc.data().content;\n\n                commentsList.push(commentData);\n\n                let promise = doc.data().userRef.get();\n                promises.push(promise);\n            });\n\n\n            Promise.all(promises).then(promises => {\n                for (let i = 0; i < promises.length; i++) {\n                    commentsList[i][\"author\"] = promises[i].data().displayName;\n                }\n            })\n\n            // console.log(commentsList);\n            setComments(commentsList);\n        }) \n\n        return () => {\n            unsub();\n        }\n    }, [props.id])\n    \n    return (\n        <div>\n        <Modal\n            className={classes.modal}\n            open={props.open}\n            onClose={props.handleClose}\n            closeAfterTransition\n            BackdropComponent={Backdrop}\n            BackdropProps={{\n                timeout: 500,\n            }}\n        >\n            <Fade in={props.open}>\n                <div className={classes.paper} style = {{textAlign : \"center\", display : \"flex\", flexDirection: \"column\"}}>\n                    <ThemeProvider theme = {theme}>\n                        <h2 style = {{color: \"#fff\"}}>Comments</h2>\n                        <div style = {{textAlign : \"left\"}}>\n                            {comments.map(comment => \n                                renderComment(comment.author, comment.content, comment.id)\n                            )}\n                        </div>\n\n\n                        <form style = {{display: \"flex\", flexDirection: \"column\", alignItems: \"center\"}} onSubmit = {handleSubmit}>\n                            <TextField\n                                id=\"standard-multiline-static\"\n                                label=\"Add comment\"\n                                multiline\n                                style = {{marginBottom: \"4%\", marginTop: \"4%\"}}\n                                variant = \"outlined\"\n                                onChange = {(e) => {\n                                    setComment(e.target.value);\n                                }}\n                                value = {comment}\n                            />\n                            <Button variant=\"contained\" color=\"secondary\" type = \"submit\">\n                                Add Comment\n                            </Button>\n                        </form>\n                    </ThemeProvider>\n                </div>\n            </Fade>\n        </Modal>\n        </div>\n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport IconButton from \"@material-ui/core/IconButton\"\nimport ChatBubbleIcon from '@material-ui/icons/ChatBubble';\nimport { createMuiTheme, responsiveFontSizes, ThemeProvider } from '@material-ui/core/styles';\nimport CommentsModal from \"./commentsModal\"\n\nlet textTheme = createMuiTheme();\ntextTheme = responsiveFontSizes(textTheme);\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n    marginLeft: '2%',\n    flexGrow: 1,\n  },\n  content: {\n    flex: '1 0 auto',\n    paddingBottom: 0\n  },\n  cover: {\n    minWidth: 62,\n    width: \"20%\", \n    maxWidth: 151\n  },\n  controls: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n  },\n  button: {\n    margin: theme.spacing(0),\n  },\n}));\n\nexport default function PostCard(props) {\n  const classes = useStyles();\n\n  let [open, setOpen] = React.useState(false);\n\n  let handleOpen = () => {\n    setOpen(true);\n  };\n\n  let handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <Card className={classes.root}>\n        <CardMedia\n            className={classes.cover}\n            image = {props.img}\n            title=\"Avatar Image\"\n        />\n        <div className={classes.details}>\n            <CardContent className={classes.content}>\n                <ThemeProvider theme={textTheme}>\n                  <div style = {{display: \"flex\", justifyContent: \"space-between\", alignItems: \"flex-start\"}}>\n                    <Typography variant=\"h6\">\n                        <b> {props.title} </b>\n                    </Typography>\n                    <Typography variant = \"caption\"> Tag: {props.tag === \"\" ? \"General\" : props.tag} </Typography> \n                  </div>\n\n                  <h5>\n                      <b> {props.content} </b>\n                    </h5>\n                </ThemeProvider>\n            </CardContent>\n            <div style = {{display: 'flex', justifyContent: \"flex-end\", alignItems : \"center\", flexWrap: \"wrap-reverse\"}}>\n                <h5>{props.count} likes </h5> \n                <IconButton className = {classes.button} onClick = {props.handleLike}> \n                  <ThumbUpAltIcon/>\n                </IconButton>\n                <IconButton className = {classes.button} onClick = {handleOpen}>\n                  <ChatBubbleIcon/>\n                </IconButton >\n            </div>\n        </div>\n        <CommentsModal handleClose = {handleClose} open = {open} id = {props.id}/>\n    </Card>\n  );    \n}\n","import React, { useState } from 'react';\nimport PostCard from './postCard';\nimport {Grid} from '@material-ui/core'\nimport {fire} from \"../../config/fire\"\nimport {useEffect} from \"react\"\n\nexport default function NewsFeed(props) {\n    const [posts, setPosts] = useState([]);\n    const db = fire.firestore();\n\n    const cardStyles = {\n        marginBottom : \"3%\",\n    }\n    \n    const handleLike = (event, postid) => {\n        let uid = fire.auth().currentUser.uid;\n\n        db.collection('posts').doc(postid).get().then(doc => {\n            if (doc !== null) {\n                let likes = doc.data().likedBy;\n                // console.log(likes);\n\n                for (let i = 0; i < likes.length; i++) {\n                    if (likes[i] === uid) {\n                        // console.log(\"Already liked\")\n                        return;\n                    }\n                }\n                \n                likes.push(uid);\n\n                db.collection(\"posts\").doc(postid).update({\n                    likedBy: likes,\n                }).catch(err => {\n                    alert(err.message);\n                })\n            }\n        }).catch(err => {\n            alert(err.msg);\n        })\n    }\n            \n    useEffect(() => {\n        var unsub;\n        \n        if (props.artist != null) {\n            unsub = db.collection(\"posts\").where(\"tag\", \"==\", props.artist).onSnapshot(snapshot => {                \n                let newPosts = [];\n                let promises = [];\n                    \n                snapshot.forEach(doc => {\n                    let post = doc.data();\n                \n                    post[\"id\"] = doc.id;\n                    let promise = db.collection(\"users\").doc(post.uid).get();\n\n                    promises.push(promise);\n                    newPosts.push(post);\n                })\n\n                Promise.all(promises).then((promises) => {\n                    for (let i = 0; i < promises.length; i++) {\n                        \n                        newPosts[i][\"author\"] = promises[i].data().displayName;\n                        newPosts[i][\"img\"] = promises[i].data().photoURL;\n                    }\n\n                    setPosts(newPosts);\n                }).catch(() => {\n                    alert(\"Error has occured when fetching users from feed data\");\n                })\n            })\n        } else {\n            unsub = db.collection(\"posts\").onSnapshot(snapshot => {                \n                let newPosts = [];\n                let promises = [];\n                    \n                snapshot.forEach(doc => {\n                    let post = doc.data();\n                \n                    post[\"id\"] = doc.id;\n                    let promise = db.collection(\"users\").doc(post.uid).get();\n\n                    promises.push(promise);\n                    newPosts.push(post);\n                })\n\n                Promise.all(promises).then((promises) => {\n                    for (let i = 0; i < promises.length; i++) {\n                        \n                        newPosts[i][\"author\"] = promises[i].data().displayName;\n                        newPosts[i][\"img\"] = promises[i].data().photoURL;\n                    }\n\n                    setPosts(newPosts);\n                }).catch(() => {\n                    alert(\"Error has occured when fetching users from feed data\");\n                })\n            })\n        }\n\n        return () => {\n            unsub();\n        };\n    }, [db, props.artist])\n\n    \n    return(\n    <>\n        <div style = {{display: \"flex\", flexDirection: \"column\"}}> \n            {posts.map((post) => \n                <Grid key = {post.id} style = {cardStyles}>\n                    <PostCard title = {post.author} content = {post.content} img = {post.img} count = {post.likedBy.length} \n                    tag = {post.tag} id = {post.id} handleLike = {(e) => handleLike(e, post.id)}/>\n                </Grid>\n            )}\n        </div>\n    </>\n    );\n    \n}","import React from 'react'\nimport NewsFeed from \"./newsFeed\"\n\nexport default class ArtistFeed extends React.Component {\n    render() {\n        var artist = window.location.pathname;\n        artist = artist.split(\"/\");\n        var name = artist[3];\n        name = name.replace(/([A-Z])/g, ' $1').trim()\n        \n        return(\n            <NewsFeed artist = {name}/>\n        );\n    }\n}","import React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport {fire} from \"../../config/fire\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as firebase from 'firebase/app';\n\nconst useStyles = makeStyles((theme) => ({\n    textField: {\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n      width: '25ch',\n    },\n  }));\n\nexport default function PostForm(props) {\n    const classes = useStyles();\n\n    const [newContent, setContent] = useState(\"\");\n    const [tag, setTag] = useState(\"\");\n    const db = fire.firestore();\n    \n    const handleChange = (e) => {\n        setContent(e.target.value);\n    }\n\n    const handleTagChange = (e) => {\n        setTag(e.target.value);\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        //Submit to firebase\n        let newPost = {\n            content: newContent,\n            likedBy: [],\n            tag: tag,\n            uid: fire.auth().currentUser.uid,\n        }\n\n\n        db.collection(\"posts\").add(newPost).then((doc) => {\n            setContent(\"\");\n            setTag(\"\");\n\n            db.collection(\"users\").doc(fire.auth().currentUser.uid).update({\n                posts: firebase.firestore.FieldValue.arrayUnion(doc.id),\n            })\n        }).catch(err => {\n            alert(err.message);\n        })\n    }\n    \n    return ( \n        <form onSubmit = {handleSubmit} style = {{display: \"flex\", flexDirection: \"column\", alignItems: \"center\"}}>  \n            <TextField\n                id=\"filled-full-width\"\n                label=\"What's on your mind?\"\n                style={{ margin: 8 }}\n                placeholder=\"Share your thoughts...\"\n                helperText=\"\"\n                fullWidth\n                margin=\"normal\"\n                multiline={true}\n                onChange={handleChange}\n                InputLabelProps={{\n                    shrink: true,\n                }}\n                variant=\"filled\"\n                value={newContent}\n            />\n            <TextField \n                id=\"filled-search\" \n                label=\"Add an optional tag\" \n                type=\"search\" \n                variant=\"filled\" \n                className={classes.textField}  \n                value = {tag}\n                onChange = {handleTagChange}\n            />\n            <div style = {{display: \"flex\", justifyContent: \"center\", marginBottom: \"10px\"}}>\n                <Button variant=\"contained\" color=\"primary\" type = \"submit\">\n                    Post!\n                </Button>\n            </div>\n        </form>\n    );\n}","import React from 'react';\nimport PostForm from \"./postForm\"\nimport NewsFeed from \"./newsFeed\"\n\nexport default function DefaultFeed() {\n    return(\n    <>\n        <PostForm/>\n        <NewsFeed/>\n    </>\n    );\n}","import React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport NavBar from \"../components/navBar\"\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport {\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport { DesktopDrawer, MobileDrawer } from \"../components/drawers\";\nimport Spotify from 'spotify-web-api-js';\nimport ArtistFeed from '../components/feedComponents/artistFeed'\nimport DefaultFeed from \"../components/feedComponents/defaultFeed\"\n\nconst spotifyApi = new Spotify();\nconst drawerWidth = 200;\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n  // necessary for content to be below app bar\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n    backgroundColor: \"#292b2a\",\n    color: \"white\",\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n});\n\nclass Homescreen extends React.Component {\n    constructor(props) {\n        super(props);\n        let path = window.location.pathname.replace(\"/home/\", \"\");\n        let token;\n        this.rerenderCallback = this.rerenderCallback.bind(this);\n        if (path.startsWith(\"token/\")) {\n          token = path.replace(\"token/\", \"\");\n        }\n        this.state = {\n            mobileOpen : false, \n            // primaryTags : [\"Drake\", \"Travis Scott\", \"Lil Uzi Vert\", \"The Weeknd\"],\n            selectedTag: \"\",\n            artists: [],\n            token: token,\n            rerendering: false,\n        }\n        if (this.state.token) {\n          spotifyApi.setAccessToken(this.state.token);\n          \n        }\n    }\n\n    handleDrawerToggle = () => {\n        this.setState((state) => ({\n            mobileOpen : !state.mobileOpen\n        }))\n    }; \n    \n    rerenderCallback = (artists) => {\n      this.setState(prevState=> ({\n        artists: prevState.artists.concat(artists)\n    }))\n    };\n    \n    handleSelection = (event, title) => {\n        this.setState(() => ({\n            selectedTag : title\n        }), () => {\n          if (this.state.mobileOpen === true) {\n            this.handleDrawerToggle();\n          }\n        })\n    }\n    \n    render () {\n        const {classes} = this.props;\n        return  (\n            <div className={classes.root}>\n                <CssBaseline />\n\n                {/* Navbar Goes Here */}\n                <NavBar appBar = {classes.appBar} token={this.state.token} menuButton = {classes.menuButton} handleDrawerToggle = {this.handleDrawerToggle}/>\n                \n                <nav className={classes.drawer}>\n\n                    <MobileDrawer type=\"home\" container = {classes.container} open = {this.state.mobileOpen} handleDrawerToggle = {this.handleDrawerToggle} \n                    drawerPaper = {classes.drawerPaper} primaryTags = {this.state.token} handleSelection = {this.handleSelection}\n                    rerenderCallback = {this.rerenderCallback}  state = {this.state} selectedTag = {this.state.selectedTag}/>\n                    \n                    <DesktopDrawer type=\"home\"  drawerPaper = {classes.drawerPaper} toolbar = {classes.toolbar} primaryTags = {this.state.token}\n                    handleSelection = {this.handleSelection} rerenderCallback = {this.rerenderCallback} state = {this.state} selectedTag = {this.state.selectedTag}/>\n                </nav>\n\n\n                <main className={classes.content}>\n                    <div className={classes.toolbar} />\n                    \n                    {/* Main Body of page goes here */}\n                    <Switch>\n                        <Route path = {[\"/home/token\"]}  component = {DefaultFeed}/>\n                        <Route path = \"/home/artist/\" component= {ArtistFeed}/>\n                    </Switch>\n                </main>\n            </div>\n        )\n    }\n}\n\nHomescreen.propTypes = {\n    classes: PropTypes.object.isRequired,\n    // Injected by the documentation to work in an iframe.\n    // You won't need it on your project.\n    container: PropTypes.object,\n    // token: PropTypes.string\n};\n\n\nexport default withStyles(styles, {withTheme : true}) (Homescreen);\n","/* global gapi */\n//https://github.com/lacymorrow/album-art USE THIS FOR ALBUM ART\nimport React, { Component } from 'react';\nimport firebase from 'firebase';\nimport {fire} from '../../config/fire'\nvar count = 0;\nvar fb=fire;\nvar db = fire.firestore();\n\n\nconst API_KEY = 'AIzaSyBhklDEhDYrLwf5mMkLKsA34Btqjpj8S7k';\nconst CLIENT_ID = '542831090816-nvuicfih0d0ulh87cjinkfrmg1tlfciq.apps.googleusercontent.com'\nconst AUTH_SCOPES = [\n    'email',\n    'profile',\n    'https://www.googleapis.com/auth/youtube.readonly',\n]\nconst DISCOVERY_DOCS = [\n    'https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest'\n];\n  /***************************************************************************\n   * Initialize Firebase\n   */\n\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = ({\n          gapiReady: false,\n          isSignedIn: false,\n          access_token: '',\n          type: this.props.type,\n          loading:false,\n        });\n        \n        //this.authListener = this.authListener.bind(this);\n    }\n\n\n    loadYoutubeApi() {\n        const script = document.createElement(\"script\");\n        script.src = \"https://apis.google.com/js/api.js\";\n\n        script.onload = () => {\n            gapi.load('client:auth2', () => {\n                gapi.client.setApiKey(API_KEY);\n                gapi.client.load('youtube', 'v3', () => {\n                this.setState({ gapiReady: true });\n                })\n            });\n\n        }\n        document.body.appendChild(script);\n    }\n\n    handleIsSignedIn(isSignedIn) {\n        if (!isSignedIn) {\n            gapi.client.init({\n                apiKey: API_KEY,\n                clientId: CLIENT_ID,\n                discoveryDocs: DISCOVERY_DOCS,\n                scope: AUTH_SCOPES.join(' '),\n            })\n            console.log('loaded firebase',count)\n            const auth2 = gapi.auth2.getAuthInstance()\n            console.log(auth2.isSignedIn.get())\n            if (auth2.isSignedIn.get()){\n                const currentUser = auth2.currentUser.get()\n                const authResponse = currentUser.getAuthResponse(true)\n                \n                this.setState({\n                    access_token: authResponse.access_token,\n                })\n\n                // this.state.access_token = authResponse.access_token\n\n                console.log(\"already Signed In\")\n                this.setState({isSignedIn:true})\n\n            } else {\n                auth2.signIn()\n                .then(() => {\n                    console.log(\"SIGNING IN\")\n                    const currentUser = auth2.currentUser.get()\n                    console.log('gapi: user signed in!');\n                    const authResponse = currentUser.getAuthResponse(true)\n                    const credential = firebase.auth.GoogleAuthProvider.credential(\n                        authResponse.id_token,\n                        authResponse.access_token\n                    )\n                    //sign in to firebase\n                    fb.auth().signInWithCredential(credential)\n                    .then(({ user }) => {\n                        //Add user data to firebase\n\n                        db.collection(\"users\").doc(user.uid).get().then(doc => {\n                            if (!doc.exists) {\n                                console.log(\"Adding user data to firestore\");\n                                \n                                db.collection(\"users\").doc(user.uid).set({\n                                    connections: [],\n                                    displayName: user.displayName,\n                                    favAlbum: \"ASTROWORLD\",\n                                    favArtist: \"Travis Scott\",\n                                    interests: [\"Hip Hop\", \"Pop\"],\n                                    photoURL: user.photoURL,\n                                    posts: [],\n                                }, {merge: true}).catch(err => {\n                                    console.log(err.message);\n                                })\n                            }\n                        })\n                    }).then(() => {\n                        // this.state.access_token = authResponse.access_token\n                        this.setState({\n                            access_token: authResponse.access_token,\n                        });\n\n                        this.setState({isSignedIn:true})\n                        console.log(\"rerender\")\n                    });\n                    //make api calls from here\n                }).catch(err => {\n                    console.log(err);\n                })\n            }\n            \n\n        }\n        // document.body.appendChild(script);\n    }\n\n\n\n\n    componentDidMount() {\n        this.loadYoutubeApi();\n    }\n    render() {\n        if (this.state.gapiReady) {\n            \n            if (!this.state.loading){\n                this.setState({\n                    loading: true,\n                })\n\n                // this.state.loading= true\n                console.log('handleSignIn')\n                this.handleIsSignedIn(this.state.isSignedIn)\n            }\n\n            return (\n                <div style={{ color: 'white' }}>\n                    {/* <h1>GAPI is loaded and ready to use.</h1> */}\n                    {(this.state.isSignedIn === false || this.state.access_token === \"\") ? (\n                        <div></div>\n\n                        // <h2>Not Logged In Yet</h2>\n                    ) : (\n                        // <YoutubeLiked params={this.state} ></YoutubeLiked>\n                        <div></div>\n                    )\n                    }\n                    \n                </div>\n            );\n        } else return (\n            <div></div>\n        )\n    }\n\n}\nexport default App;","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport { fire , uiConfig} from \"../config/fire\"\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\"\n//Youtube/Google\nimport App from \"../components/Youtube/YoutubeDiscoverMusic\"\n\nconst theme = createMuiTheme({\n    palette: {\n      type: 'dark',\n    },\n  });\n\nexport default function SignInModal(props) {\n    const [email, setEmail] = React.useState(\"\");\n    const [password, setPassword] = React.useState(\"\");\n    const [showLogin,setShowLogin] = React.useState(false)\n    \n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        fire.auth().signInWithEmailAndPassword(email, password).then((u)=>{\n            //Nothing to do here\n        }).catch((error) => {\n            alert(error.message);\n        });\n    }\n    \n    \n    const handleGoogleLogin = (e) => {\n        e.preventDefault();\n        setShowLogin(true)\n    }\n    \n    return (\n        <Dialog open={props.inOpen} onClose={props.handleInClose} aria-labelledby=\"form-dialog-title\" maxWidth='xl'>\n            <ThemeProvider theme = {theme}>\n            <DialogTitle id=\"form-dialog-title\" style = {{backgroundColor: \"#292b2a\", color: \"#ffffff\"}}>Mosh</DialogTitle>\n            <form style = {{backgroundColor: \"#292b2a\"}} onSubmit = {handleSubmit}>\n                <DialogContent>\n                    <DialogContentText>\n                        Log in to Mosh.\n                    </DialogContentText>\n                    <TextField\n                        autoFocus\n                        margin=\"dense\"\n                        id=\"name\"\n                        label=\"Email Address\"\n                        type=\"email\"\n                        fullWidth\n                        onChange = {(e) => {\n                            setEmail(e.target.value);\n                        }}\n                    />\n                    <TextField\n                        id=\"standard-password-input\"\n                        label=\"Password\"\n                        type=\"password\"\n                        autoComplete=\"current-password\"\n                        onChange = {(e) => {\n                            setPassword(e.target.value);\n                        }}\n                    />\n                </DialogContent>\n\n                <DialogActions>\n                    <Button onClick={props.handleInClose} color=\"primary\">\n                        Cancel\n                    </Button>\n                    <Button onClick={handleSubmit} color=\"primary\" type = \"submit\">\n                        Log In\n                    </Button>\n                </DialogActions>\n                <DialogContent>\n                    <div id=\"firebaseui_container\" lang=\"en\">\n                        <div className=\"firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner\">\n                            <div className=\"firebaseui-card-content\">\n                                <ul className=\"firebaseui-idp-list\">\n                                    <li className=\"firebaseui-list-item\">\n                                        <button className=\"firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised firebaseui-idp-google firebaseui-id-idp-button\" onClick={handleGoogleLogin} data-provider-id=\"google.com\" style={{backgroundColor: \"#ffffff\"}} data-upgraded=\",MaterialButton\">\n                                            <span className=\"firebaseui-idp-icon-wrapper\">\n                                                <img className=\"firebaseui-idp-icon\" alt=\"\" src=\"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg\"/>\n                                            </span>\n                                            <span className=\"firebaseui-idp-text firebaseui-idp-text-long\">Sign in with Google</span>\n                                            <span className=\"firebaseui-idp-text firebaseui-idp-text-short\">Google</span>\n                                        </button>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                    \n                    <StyledFirebaseAuth uiCallback=\n                        {ui => {\n                                    // console.log(ui)\n                                    ui.disableAutoSignIn()\n                                }\n                        } uiConfig={uiConfig} firebaseAuth={fire.auth()}\n                    />\n                    {showLogin === true ? <App/> : <div></div>}\n                </DialogContent>\n                \n            </form>\n            </ThemeProvider>\n        </Dialog>\n    )\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\n\nimport { fire } from '../config/fire'\n\nconst theme = createMuiTheme({\n    palette: {\n      type: 'dark',\n    },\n  });\n\nexport default function SignUpModal(props) {\n    const [email, setEmail] = React.useState(\"\");\n    const [password, setPassword] = React.useState(\"\");\n    const [name, setName] = React.useState(\"\");\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        fire.auth().createUserWithEmailAndPassword(email, password).then(user => {\n          fire.auth().currentUser.updateProfile({\n            displayName: name,\n            photoURL: \"https://iupac.org/wp-content/uploads/2018/05/default-avatar.png\",\n          })\n\n          fire.firestore().collection(\"users\").doc(fire.auth().currentUser.uid).set({\n            connections: [],\n            displayName: name,\n            favAlbum: \"ASTROWORLD\",\n            favArtist: \"Travis Scott\",\n            interests: [\"Hip Hop\", \"Pop\"],\n            photoURL: \"https://iupac.org/wp-content/uploads/2018/05/default-avatar.png\",\n            posts: [],\n          }, {merge: true}).catch( err => {\n            console.log(err.message);\n          })\n        })\n        .catch((err) => {\n            alert(err.message);\n        })\n        \n    }\n\n    return (\n        <Dialog open={props.upOpen} onClose={props.handleUpClose} aria-labelledby=\"form-dialog-title\" maxWidth='xl'>\n            <ThemeProvider theme = {theme}>\n             <form style = {{backgroundColor: \"#292b2a\"}} onSubmit = {handleSubmit}>\n             <DialogTitle id=\"form-dialog-title\" style = {{color: \"#ffffff\"}}>Mosh</DialogTitle>\n\n\n             <DialogContent>\n\n              <DialogContentText>\n              We're excited to have you here.\n              Sign Up to unlock a new music community.\n              </DialogContentText>\n\n              <DialogContentText>\n              Sign Up to unlock a new music community.\n              </DialogContentText>\n\n              <TextField\n                  autoFocus\n                  id=\"standard-required\"\n                  label=\"Name\"\n                  type=\"name\"\n                  fullWidth\n                  onChange = {(e) => {\n                      setName(e.target.value);\n                  }}\n              />\n              <TextField\n                id=\"email\"\n                label=\"Email Address\"\n                type=\"email\"\n                fullWidth\n                onChange = {(e) => {\n                    setEmail(e.target.value);\n                }}\n              />\n              <TextField\n                id=\"standard-password-input\"\n                label=\"Password\"\n                type=\"password\"\n                autoComplete=\"current-password\"\n                fullWidth\n                onChange = {(e) => {\n                    setPassword(e.target.value);\n                }}\n              />\n              {/* <TextField\n                id=\"standard-password-input\"\n                label=\"Retype Password\"\n                type=\"password\"\n                autoComplete=\"current-password\"\n                fullWidth\n              /> */}\n              </DialogContent>\n             <DialogActions>\n               <Button onClick={props.handleUpClose} color=\"primary\">\n                 Cancel\n               </Button>\n               <Button onClick={handleSubmit} color=\"primary\" type = \"submit\">\n                 Sign Up\n               </Button>\n             </DialogActions>\n\n             </form>\n             </ThemeProvider>\n        </Dialog>\n    )\n}\n","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom';\n\nimport SignInModal from \"./SignInModal\"\nimport SignUpModal from \"./SignUpModal\"\n\nexport default function NavBar () {\n    const [inOpen, setInOpen] = React.useState(false);\n    const [upOpen, setUpOpen] = React.useState(false);\n\n    const handleClickUpOpen = () => {\n        setUpOpen(true);\n    };\n\n    const handleUpClose = () => {\n        setUpOpen(false);\n    };\n\n    const handleClickInOpen = () => {\n        setInOpen(true);\n    };\n\n    const handleInClose = () => {\n        setInOpen(false);\n    };\n    \n        return (\n            <>\n            <AppBar position=\"fixed\" style={{ background:'#000000', opacity:'0.8', boxShadow: 'none'}}>\n                <Toolbar>\n                <Typography variant=\"h6\" style = {{ flexGrow : 1 }}>\n                    <Link to=\"/\" style={{ textDecoration: 'none', color: 'inherit '}}>\n                    {/* <img src={Mosh} alt=\"\" style = {{paddingTop: \"2vh\", width: \"20vw\", height: \"20vh\"}}/> */}\n                      Mosh\n                    </Link>\n                </Typography>\n                <Button color=\"inherit\" style={{textTransform: 'none'}} onClick={handleClickInOpen}>Sign In</Button>\n                <Button color=\"inherit\" style={{textTransform: 'none'}} onClick={handleClickUpOpen}>Sign Up</Button>\n                </Toolbar>\n            </AppBar>\n             \n            <SignInModal inOpen = {inOpen} handleInClose = {handleInClose}/> \n            <SignUpModal upOpen = {upOpen} handleUpClose = {handleUpClose}/>\n           </>\n        )\n    \n}\n","import React from 'react';\nimport NavBar from './navBarLand';\nimport Image from './landing_back.png';\nimport Heart from './heart.svg';\nimport Sync from './sync.svg';\nimport Track from './track.svg';\n\nconst styles = {\n    background: {\n        backgroundImage: `url(${Image})`,\n        height: '1200px',\n        width: '100%',\n        textAlign: 'center',\n        backgroundSize: 'cover',\n        backgroundAttachment: 'fixed',\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center', \n    },\n    divContainer: {\n        fontFamily: \"Lato\",\n        display: \"flex\", \n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        color: \"#FFFFFF\",\n        // wordBreak: \"break-word\",\n        // paddingLeft: \"100vw\",\n        // padding: \"10vw\",\n        paddingTop: \"15vh\",\n    },\n    block: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        color: \"#000000\",\n        background: \"rgba(196, 196, 196, 0.3)\",\n        borderRadius: \"10px\",\n        width: \"307px\",\n        height: \"248px\",\n        left: \"152px\",\n        top: \"578px\",\n        paddingLeft: \"2vw\",\n        paddingRight: \"2vw\",\n        textAlign: \"center\",\n        margin: \"10px\",\n    },\n    blockText: {\n        margin:\"2px\",\n    },\n    blockRow: {\n        display: \"flex\",\n        flexWrap: 'wrap',\n        margin: \"5vh\",\n        justifyContent: \"center\",\n    },\n    image: {\n        width: \"100px\",\n        height: \"100px\",\n    }\n};\nconst Landing = (props) => {\n    \n    return (\n        <>\n        <NavBar />\n        <div style={styles.background}>\n            <div style={styles.divContainer}>\n                <div>\n                <h1>Be with the crowd</h1>\n                <h1>anywhere, anytime</h1>\n                <h3>A social media focussed on connecting</h3> \n                <h3>you to people through music</h3>\n                </div>\n                \n                <div style={styles.blockRow}>\n                <div style={styles.block}>\n                    <img style={styles.image} src={Heart} alt=\"\" />\n                    <div style={styles.blockText}>\n                    <h4>A community built and growing through our love for music</h4>\n                    </div>\n                </div>\n                <div style={styles.block}>\n                    <img style={styles.image} src={Track} alt=\"\" />\n                    <div style={styles.blockText}>\n                    <h4>Keeps track of what you listen to and recommends, for your eyes only</h4>\n                    </div>\n                </div>\n                <div style={styles.block}>\n                    <img style={styles.image} src={Sync} alt=\"\" />\n                    <div style={styles.blockText}>\n                    <h4>Connect your streaming accounts. Enjoy a cross-platform experience with your mates</h4>\n                    </div>\n                </div>\n                </div>\n            </div>\n        </div>\n        </>\n    );\n}\n\nexport default Landing;","import React from 'react';\n// import NavBar from './ConnectBar';\nimport Button from '@material-ui/core/Button';\nimport SpotifyIcon from './spotify.svg';\nimport YoutubeIcon from './youtube.svg';\nimport Image from './landing_back.png';\nimport { Link, Route, Switch } from 'react-router-dom';\nimport Spotify from 'spotify-web-api-js';\nimport Homescreen from './Homescreen';\nimport App from '../components/Youtube/YoutubeDiscoverMusic'\nconst spotifyApi = new Spotify();\n\nconst styles = {\n    divContainer: {\n        fontFamily: \"Lato\",\n        display: \"flex\", \n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        color: \"#FFFFFF\",\n        paddingTop: \"15vh\",\n        alignItems: \"center\",\n    },\n    buttons: {\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    background: {\n        backgroundImage: `url(${Image})`,\n        height: '1200px',\n        width: '100%',\n        textAlign: 'center',\n        backgroundSize: 'cover',\n        backgroundAttachment: 'fixed',\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center', \n    }\n}\n\n\nclass Connect extends React.Component {\n    constructor() {\n        super();\n        const params = this.getHashParams();\n        const token = params.access_token;\n\n        if (token) {\n            spotifyApi.setAccessToken(token);\n        }\n        this.state = {\n            loggedIn: token ? true : false,\n            token: token,\n            showLogin: false\n        }\n\n    }\n    getHashParams() {\n        var hashParams = {};\n        var e, r = /([^&;=]+)=?([^&;]*)/g,\n            q = window.location.hash.substring(1);\n        \n        // eslint-disable-next-line\n        while ( e = r.exec(q)) {\n           hashParams[e[1]] = decodeURIComponent(e[2]);\n        }\n        \n        return hashParams;\n    }\n    handleGoogleLogin = (e) => {\n        e.preventDefault();\n        this.setState({showLogin:true})\n    }\n    renderGoogleBackgroundLogin = () => {\n        if (!this.state.showLogin) return '';\n        return (\n            <App />\n        );\n    }\n    render() {\n        // console.log(this.state.showLogin)\n    return(\n        <>\n        <div style={styles.background}>\n        <div style={styles.divContainer}>\n        <h1>MOSH</h1>\n        <h3 style={{fontFamily: \"Lato\"}}>Connect your favourite streaming platforms for a more personal experience</h3>\n        <div style={styles.buttons}>\n            <div style={{display: \"flex\", alignItems: \"center\"}}>\n            <Button color=\"inherit\" style={{textTransform: 'none', backgroundColor:\"#000000\", width: \"40vw\", margin: \"10px\",}} >\n                <a href=\"http://localhost:8888\" style={{textDecoration: 'none'}}> \n                <div style={{display: \"flex\"}}>\n                    <img src={SpotifyIcon} alt=\"\" style={{paddingRight:\"5vw\"}}/>\n                    <h3 style={{color: \"#2D8642\"}}>Connect with Spotify</h3>\n                </div>\n                </a>\n            </Button>\n            </div>\n            <Button color=\"inherit\" onClick={this.handleGoogleLogin} style={{textTransform: 'none', backgroundColor:\"#000000\", width: \"40vw\", margin: \"10px\"}} >\n            <div style={{display: \"flex\"}}>\n                <img src={YoutubeIcon} alt=\"\" style={{paddingRight:\"5vw\"}}/>\n                <h3 style={{color: \"#E4321A\"}}>Connect with YouTube</h3>\n                {(this.state.showLogin === true) ? (\n\t\t\t\t    <App/>\n                ) : (\n                    // <YoutubeLiked params={this.state} ></YoutubeLiked>\n                    <div></div>\n                )}\n            </div>\n            </Button>\n        </div>\n        <div style={{margin: \"10px\", display: \"flex\"}}>\n        <Button color=\"inherit\" style={{textTransform: 'none', backgroundColor:\"#000000\", width: \"20vw\", margin: \"10px\"}} >\n            <Link to={\"/home/token/\"} style={{textDecoration:'none', color:'inherit'}}>\n            Skip for now\n            </Link>\n        </Button>\n        \n        <Button color=\"inherit\" style={{textTransform: 'none', backgroundColor:\"#000000\", width: \"20vw\", margin: \"10px\"}} >\n            <Link to={\"/home/token/\" + this.state.token} style={{textDecoration:'none', color:'inherit'}}>\n            Continue\n            </Link>\n        </Button>\n        <Switch>\n            <Route path=\"/home/token/\" component={Homescreen} />\n        </Switch>\n        </div>\n        </div>\n        </div>\n        </>\n    );\n    }\n}\n\nexport default Connect;","import React from 'react';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Grid from '@material-ui/core/Grid';\nimport MusicCard from '../components/discoverComponents/discoverCards/musicCard';\nimport NavBar from '../components/navBar';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormControl from '@material-ui/core/FormControl';\nimport Spotify from 'spotify-web-api-js';\nimport Button from '@material-ui/core/Button';\n\nimport {fire} from \"../config/fire\"\n\nconst spotifyApi = new Spotify(); \n\n  const styles = {\n    divContainer: {\n        fontFamily: \"Lato\",\n        display: \"flex\", \n        flexDirection: \"column\",\n        justifyContent: \"flex-start\",\n        color: \"#FFFFFF\",\n        paddingTop: \"15vh\",\n        alignItems: \"center\",\n    },\n  }\n  const cardStyles = {\n    margin : \"10px\",\n    width: \"80vw\",\n}\n// const classes = useStyles();\n\nclass Share extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        token: window.location.pathname.replace(\"/share/token/\", \"\"),\n        list: [],\n        searchQuery: \"\",\n        connections: [],\n    }\n    if (this.state.token) {\n      spotifyApi.setAccessToken(this.state.token);\n  }\n    // this.getSearch();\n    this.getSearch = this.getSearch.bind(this);\n\n    this.unSub = null;\n  }\n\n\n  componentDidMount() {\n    let db = fire.firestore();\n    let user = fire.auth().currentUser;\n    \n    this.unSub = db.collection(\"users\").where(\"connections\", \"array-contains\", user.uid).onSnapshot(snapShot => {\n        let userList = [] \n\n        snapShot.forEach(doc => {\n            let data = {};\n            data[\"displayName\"] = doc.data()[\"displayName\"];\n            data[\"uid\"] = doc.id;\n\n            userList.push(data);\n        });\n\n        // console.log(userList);\n        this.setState({\n          connections: userList,\n        })\n    })\n  }\n\n  componentWillUnmount() {\n    this.unSub();\n  }\n\n  getSearch() {\n    this.setState(prevState => ({\n      list:[]\n    }));\n    spotifyApi.search(this.state.searchQuery,[\"track\"])\n            .then((response) => {\n                // console.log(response);\n                response.tracks.items.map(obj => this.setState(prevState=> ({\n                  list: [...prevState.list,{\n                    id: obj.id,\n                    albumArt: obj.album.images[0].url,\n                    albumName: obj.album.name,\n                    songArtists: obj.artists[0].name, \n                    songName: obj.name, \n                    link: obj.external_urls.spotify,\n                  }]\n                  \n                })))\n            })\n  }\n\n  renderButton(obj) {\n\n    return ( \n        <Grid style = {cardStyles} key = {obj.id}>\n            <MusicCard id={obj.id} title ={obj.songName} artist = {obj.songArtists} album = {obj.albumName} img = {obj.albumArt} link={obj.link} \n            connections = {this.state.connections}/>\n        </Grid>\n    )\n}\nrenderCards() {\n    let musicCards = this.state.list.map(obj => this.renderButton(obj));\n    return musicCards;\n}\n\n    render() {\n      \n    return (\n    <>\n        <div style={styles.divContainer}>\n        <NavBar token={this.state.token}/>\n          <div style={{paddingBottom: \"2vh\"}}>\n          <FormControl>\n            <InputLabel htmlFor=\"input-with-icon-adornment\" style={{color: \"inherit\"}}>Search for Music to Share</InputLabel>\n            <Input\n              id=\"input-with-icon-adornment\"\n              style={{color: \"inherit\"}}\n              startAdornment={\n                <InputAdornment position=\"start\">\n                  <SearchIcon />\n                </InputAdornment>\n              }\n              onChange = {(e) => {\n                this.setState({\n                  searchQuery: e.target.value,\n                })\n            }}\n            />\n          </FormControl>\n          <Button onClick={() => this.getSearch()} style={{color: 'inherit'}}>\n            Search\n          </Button>\n          </div>\n            {this.renderCards()}\n        </div>\n    </>\n    );\n  }\n\n}\n\nexport default Share;","import {fire} from './config/fire';\nimport React, {Component} from 'react';\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\nimport Discover from \"./containers/Discover\";\nimport Homescreen from \"./containers/Homescreen\";\nimport Landing from \"./containers/Landing\";\nimport Connect from \"./containers/Connect\";\nimport Share from \"./containers/Share\";\n\nimport {Redirect} from \"react-router-dom\";\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = ({\n      user: null,\n    });\n    this.authListener = this.authListener.bind(this);\n  }\n\n  componentDidMount() {\n    this.authListener();\n  }\n\n  authListener() {\n    fire.auth().onAuthStateChanged((user) => {\n      if (user) {\n        console.log(\"User logged in\");\n        this.setState({ user });\n        localStorage.setItem('user', user.uid);\n        \n        this.setState({ user });  \n      } else {\n        console.log(\"No user\");\n        this.setState({ user: null });\n        localStorage.removeItem('user');\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Router>\n        <Route exact path=\"/\">\n            {this.state.user === null ? <Landing/> : <Redirect to=\"/connect\"/>}\n          </Route>\n          <Route path=\"/discover\">\n            {this.state.user !== null ? <Discover/> : <Redirect to=\"/\"/>}\n          </Route>\n          <Route path=\"/home\">\n            {/* <Homescreen/> */}\n            {this.state.user !== null ? <Homescreen/> : <Redirect to=\"/\"/>}\n          </Route>\n          <Route path=\"/connect\">\n            {/* //<Connect/> */}\n            <Connect/>\n            {/* {this.state.user !== null ? <Connect/> : <Redirect to=\"/\"/>} */}\n          </Route>\n          <Route path=\"/share\">\n            {this.state.user !== null ? <Share/> : <Redirect to=\"/\"/>}\n          </Route>\n        </Router>\n      </div>\n    )\n  }\n}\n\n export default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\nimport MainApp from \"./mainApp\"\nimport * as serviceWorker from './serviceWorker';\n/*global gapi */\n\n//NOTE: THIS NEEDS TIME TO LOAD THE SCRIPT SO CANT IMMEDIATELY LOAD FROM home/token have to go from landing -> home\nconst script = document.createElement(\"script\");\nscript.src = \"https://apis.google.com/js/api.js\";\nscript.onload = () => {\n    gapi.load('client:auth2', () => {\n        gapi.client.setApiKey(\"AIzaSyBhklDEhDYrLwf5mMkLKsA34Btqjpj8S7k\");\n        gapi.client.load('youtube', 'v3', () => {\n        })\n    })\n    console.log(\"gapi loaded\")\n\n}\ndocument.body.appendChild(script);\n\nReactDOM.render(<MainApp/>, document.getElementById('root'));\n\n// import * as firebase from 'firebase';\n// import firebaseconfig from './firebase.config';\n// firebase.initializeApp(firebaseconfig);\n\n// ReactDOM.render(<App />, document.getElementById('root'));\n\n// import * as firebase from 'firebase';\n// import firebaseconfig from './firebase.config';\n// firebase.initializeApp(firebaseconfig);\n\n// ReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/landing_back.60a5d5ee.png\";","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}